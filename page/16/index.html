<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="what I don&apos;t know">
<meta property="og:type" content="website">
<meta property="og:title" content="Serious Autonomous Vehicles">
<meta property="og:url" content="http://yoursite.com/page/16/index.html">
<meta property="og:site_name" content="Serious Autonomous Vehicles">
<meta property="og:description" content="what I don&apos;t know">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Serious Autonomous Vehicles">
<meta name="twitter:description" content="what I don&apos;t know">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/16/"/>





  <title>Serious Autonomous Vehicles</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Serious Autonomous Vehicles</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/11/the-OK-and-not-OK-in-my-life/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/11/the-OK-and-not-OK-in-my-life/" itemprop="url">the OK and not OK in my life</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-11T18:42:04-04:00">
                2018-10-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/11/the-OK-and-not-OK-in-my-life/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/10/11/the-OK-and-not-OK-in-my-life/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.monkeyquiz.com/life/rate_my_life.html" target="_blank" rel="external">go ahead</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;table cellspacing=&quot;0&quot; style=&quot;border: 1px solid #333333; margin: 10px;&quot;&gt;&lt;tr&gt;&lt;td colspan=&quot;2&quot; style=&quot;border: none; font: bold 16px sans-serif; background: #ffddbb; color: #000000; padding: 5px; margin: 0px; text-align: center;&quot;&gt;This Is My Life, Rated&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;width: 85px; padding: 5px; font: bold 18px sans-serif; text-align: left; border: 1px solid #333333; border-left: none; background-image: none; background: #ffffcc; color: #000000;&quot;&gt;Life:</div><div class="line">&lt;/td&gt;&lt;td style=&quot;width: 240px; padding: 5px; padding-left: 0px; font: bold 18px sans-serif; text-align: left; border: 1px solid #333333; border-left: none; border-right: none; vertical-align: middle; background-image: none; background: #ffffff; color: #000000;&quot;&gt;&lt;img src=&quot;http://www.monkeyquiz.com/img/grebar.gif&quot; height=&quot;12&quot; width=&quot;124&quot; style=&quot;border: 1px solid #000000; border-left: none; vertical-align: middle; padding: 0px; margin: 0px;&quot;&gt; 6.2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;width: 85px; padding: 5px; font: bold 12px sans-serif; text-align: left; border: none; border-right: 1px solid #333333; background-image: none; background: #ffffcc; color: #000000;&quot;&gt;Mind:</div><div class="line">&lt;/td&gt;&lt;td style=&quot;width: 240px; padding: 5px; padding-left: 0px; font: bold 12px sans-serif; text-align: left; border: none; vertical-align: middle; background-image: none; background: #ffffff; color: #000000;&quot;&gt;&lt;img src=&quot;http://www.monkeyquiz.com/img/greblubar.gif&quot; height=&quot;12&quot; width=&quot;134&quot; style=&quot;border: 1px solid #000000; border-left: none; vertical-align: middle; padding: 0px; margin: 0px;&quot;&gt; 6.7&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;width: 85px; padding: 5px; font: bold 12px sans-serif; text-align: left; border: none; border-right: 1px solid #333333; background-image: none; background: #ffffcc; color: #000000;&quot;&gt;Body:</div><div class="line">&lt;/td&gt;&lt;td style=&quot;width: 240px; padding: 5px; padding-left: 0px; font: bold 12px sans-serif; text-align: left; border: none; vertical-align: middle; background-image: none; background: #ffffff; color: #000000;&quot;&gt;&lt;img src=&quot;http://www.monkeyquiz.com/img/blubar.gif&quot; height=&quot;12&quot; width=&quot;156&quot; style=&quot;border: 1px solid #000000; border-left: none; vertical-align: middle; padding: 0px; margin: 0px;&quot;&gt; 7.8&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;width: 85px; padding: 5px; font: bold 12px sans-serif; text-align: left; border: none; border-right: 1px solid #333333; background-image: none; background: #ffffcc; color: #000000;&quot;&gt;Spirit:</div><div class="line">&lt;/td&gt;&lt;td style=&quot;width: 240px; padding: 5px; padding-left: 0px; font: bold 12px sans-serif; text-align: left; border: none; vertical-align: middle; background-image: none; background: #ffffff; color: #000000;&quot;&gt;&lt;img src=&quot;http://www.monkeyquiz.com/img/blupurbar.gif&quot; height=&quot;12&quot; width=&quot;176&quot; style=&quot;border: 1px solid #000000; border-left: none; vertical-align: middle; padding: 0px; margin: 0px;&quot;&gt; 8.8&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;width: 85px; padding: 5px; font: bold 12px sans-serif; text-align: left; border: none; border-right: 1px solid #333333; background-image: none; background: #ffffcc; color: #000000;&quot;&gt;Friends/Family:</div><div class="line">&lt;/td&gt;&lt;td style=&quot;width: 240px; padding: 5px; padding-left: 0px; font: bold 12px sans-serif; text-align: left; border: none; vertical-align: middle; background-image: none; background: #ffffff; color: #000000;&quot;&gt;&lt;img src=&quot;http://www.monkeyquiz.com/img/orbar.gif&quot; height=&quot;12&quot; width=&quot;46&quot; style=&quot;border: 1px solid #000000; border-left: none; vertical-align: middle; padding: 0px; margin: 0px;&quot;&gt; 2.3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;width: 85px; padding: 5px; font: bold 12px sans-serif; text-align: left; border: none; border-right: 1px solid #333333; background-image: none; background: #ffffcc; color: #000000;&quot;&gt;Love:</div><div class="line">&lt;/td&gt;&lt;td style=&quot;width: 240px; padding: 5px; padding-left: 0px; font: bold 12px sans-serif; text-align: left; border: none; vertical-align: middle; background-image: none; background: #ffffff; color: #000000;&quot;&gt;&lt;img src=&quot;http://www.monkeyquiz.com/img/redbar.gif&quot; height=&quot;12&quot; width=&quot;16&quot; style=&quot;border: 1px solid #000000; border-left: none; vertical-align: middle; padding: 0px; margin: 0px;&quot;&gt; 0.8&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;width: 85px; padding: 5px; font: bold 12px sans-serif; text-align: left; border: none; border-right: 1px solid #333333; background-image: none; background: #ffffcc; color: #000000;&quot;&gt;Finance:</div><div class="line">&lt;/td&gt;&lt;td style=&quot;width: 240px; padding: 5px; padding-left: 0px; font: bold 12px sans-serif; text-align: left; border: none; vertical-align: middle; background-image: none; background: #ffffff; color: #000000;&quot;&gt;&lt;img src=&quot;http://www.monkeyquiz.com/img/greblubar.gif&quot; height=&quot;12&quot; width=&quot;142&quot; style=&quot;border: 1px solid #000000; border-left: none; vertical-align: middle; padding: 0px; margin: 0px;&quot;&gt; 7.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;2&quot; style=&quot;border: none; border-top: 1px solid #333333; font: bold 14px sans-serif; background: #ffeedd; padding: 5px; margin: 0px; text-align: center;&quot;&gt;&lt;a href=&quot;http://www.monkeyquiz.com/life/rate_my_life.html&quot; style=&quot;color: #0000ff;&quot;&gt;Take the Rate My Life Quiz&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</div></pre></td></tr></table></figure>
<p>I am not a socialized man, period</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/02/Btree-max-path-sum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/02/Btree-max-path-sum/" itemprop="url">Btree max path sum</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-02T20:22:46-04:00">
                2018-10-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/02/Btree-max-path-sum/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/10/02/Btree-max-path-sum/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/binary-tree-maximum-path-sum/description/" target="_blank" rel="external">leetCode 124</a>. the first idea is recursive from root to bottom leaf, and return the max from left or right at each node.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">subsum</span><span class="params">(TreeNode* node)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> max_left = <span class="number">0</span>, max_right =<span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span>(node-&gt;left)</div><div class="line">		max_left = subsum(node-&gt;left);</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> <span class="built_in">std</span>::max(node-&gt;val, subsum(node-&gt;right));</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(node-&gt;right)</div><div class="line">		max_right = subsum(node-&gt;right);</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> <span class="built_in">std</span>::max(node-&gt;val, subsum(node-&gt;left));</div><div class="line"></div><div class="line">	sum += node-&gt;val + <span class="built_in">std</span>::max(max_left, max_right); </div><div class="line"></div><div class="line">	<span class="keyword">return</span> sum;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>this will get the max sum branch from top to bottom, but can’t consider the other branch, and there is case when the max sum branch is actually smaller than a subtree sum. so here needs to consider the subtree sum as well, since the root tree can be consider as a subtree, so after implmenting subtree sum, actually no need to consider the other branch sum.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">subsum</span><span class="params">(TreeNode*  node, <span class="built_in">std</span>::priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt;&amp; s)</span></span></div><div class="line">&#123;</div><div class="line"> <span class="keyword">if</span>(node==<span class="literal">nullptr</span>)</div><div class="line">	 <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line"> </div><div class="line"> <span class="keyword">int</span> max_left=<span class="number">0</span>, max_right=<span class="number">0</span>;</div><div class="line"> <span class="keyword">int</span> sum=<span class="number">0</span>; </div><div class="line"> <span class="keyword">int</span> subtree_sum = <span class="number">0</span>; </div><div class="line"> <span class="keyword">if</span>(node-&gt;left)&#123;</div><div class="line">	 max_left = subsum(node-&gt;left, s); </div><div class="line">	 subtree_sum += max_left;  </div><div class="line"> &#125;<span class="keyword">else</span></div><div class="line"> &#123;</div><div class="line">	 subtree_sum += node-&gt;val; </div><div class="line">	 <span class="keyword">return</span> <span class="built_in">std</span>::max(node-&gt;val,  subsum(node-&gt;right, s)); </div><div class="line"> &#125;</div><div class="line">	 </div><div class="line"> <span class="keyword">if</span>(node-&gt;right)&#123;</div><div class="line">	 max_right = subsum(node-&gt;right, s);</div><div class="line">	 subtree_sum += max_right;  </div><div class="line"> &#125;<span class="keyword">else</span>&#123;</div><div class="line">	 subtree_sum += node-&gt;val; </div><div class="line">	 <span class="keyword">return</span> <span class="built_in">std</span>::max(node-&gt;val, subsum(node-&gt;left, s)); </div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> sum += node-&gt;val + <span class="built_in">std</span>::max(max_left, max_right);</div><div class="line"></div><div class="line"> <span class="keyword">if</span>(node-&gt;right != <span class="literal">nullptr</span>  || node-&gt;left != <span class="literal">nullptr</span>)</div><div class="line">	subtree_sum += node-&gt;val; </div><div class="line"> <span class="keyword">else</span></div><div class="line">	 subtree_sum -= node-&gt;val; </div><div class="line"> </div><div class="line"> <span class="keyword">if</span>(subtree_sum &gt; sum)&#123;</div><div class="line">	 s.push(subtree_sum); </div><div class="line">	 <span class="built_in">cout</span> &lt;&lt; <span class="string">"s.top= "</span> &lt;&lt; s.top() &lt;&lt; <span class="string">"\n"</span> &lt;&lt; <span class="built_in">endl</span>; </div><div class="line">	 <span class="keyword">while</span>( sum &gt; s.top())</div><div class="line">	 &#123;</div><div class="line">		 s.pop();</div><div class="line">	 &#125;</div><div class="line"> &#125;</div><div class="line"> <span class="keyword">return</span> sum; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>passing priority_queue <code>s</code> as reference, so if <code>subtree\_sum</code> is bigger than the top-bottom branch sum, then it will be pushed into <code>s</code>; but pop out the elements smaller than current branch sum in each recrusive routing.</p>
<p>finally, compare the largest elemnet in <code>s</code> with top-bottom branch sum.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/01/when-pure-loop-doesn-t-work-out/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/01/when-pure-loop-doesn-t-work-out/" itemprop="url">when pure loop doesn't work out</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-01T23:02:00-04:00">
                2018-10-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/01/when-pure-loop-doesn-t-work-out/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/10/01/when-pure-loop-doesn-t-work-out/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/distinct-subsequences/description/" target="_blank" rel="external">leetCode 115</a>: given a string S and a string T, count the number of distinct subsequences of S which equals T.</p>
<pre><code>Input: S = &quot;babgbag&quot;, T = &quot;bag&quot;
Output: 5
Explanation:
As shown below, there are 5 ways you can generate &quot;bag&quot; from S.
(The caret symbol ^ means the chosen letters)

babgbag
^^ ^
babgbag
^^    ^
babgbag
^    ^^
babgbag
   ^  ^^
babgbag
     ^^^
</code></pre><h2 id="first-thought"><a href="#first-thought" class="headerlink" title="first thought"></a>first thought</h2><p>for each alpha in T, traversing S, find a match, return; then move forward for next alpha in T and traversing S again,</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">sol</span><span class="params">(<span class="built_in">string</span>&amp; s1,  <span class="built_in">string</span>&amp; s2)</span></span></div><div class="line">&#123;</div><div class="line"> <span class="built_in">string</span>::iterator sit1, sit2, nait; </div><div class="line"> <span class="built_in">string</span> notagain; </div><div class="line"> <span class="keyword">int</span> count=<span class="number">0</span>;	 </div><div class="line"><span class="keyword">for</span>(nait = s2.begin(); nait != s2.end(); nait++)</div><div class="line">&#123;</div><div class="line">	notagain.push_back(*nait);</div><div class="line">	sit1 =  s1.begin(); </div><div class="line">	sit1_last = s1.begin(); </div><div class="line">	</div><div class="line">	<span class="keyword">while</span>( sit1 != s1.end())</div><div class="line">	&#123;	 </div><div class="line">		<span class="keyword">for</span>(sit2=s2.begin(); sit2 != s2.end(), sit1 != s1.end(); sit1++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(*sit1 == *sit2)</div><div class="line">			&#123;</div><div class="line">				tmp.push_back(*sit2);</div><div class="line">				sit2++; </div><div class="line">			&#125;</div><div class="line">		 </div><div class="line">			<span class="keyword">if</span>(tmp.compare(s2) == <span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				count++;</div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		sit1 = st1_last++;</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>this is a failed trail. Since this kind of problem really can’t be solved by purely nested for-loop. think about, at the last level (traverse <code>S</code> to get <code>g</code>), there needs one for-loop, then the previous level or the level above (traverse <code>S</code> to get <code>a</code>) needs another loop. and each “a” needs one for-loop to traverse all possible “g” in <code>S</code> again. and the top level (travers <code>S</code> to get “b”) is another for-loop, and each “b” need another for-loop to traverse “a”. and this is only three levels (b-&gt;a-&gt;g)</p>
<p>basically if implementing tree traversing with for-loop, since tree structure has many branches to the end, since even each sub-branch needs a for-loop, there will be exponent disaster of for-loop to cover all branches.   </p>
<h2 id="second-thoughts"><a href="#second-thoughts" class="headerlink" title="second thoughts"></a>second thoughts</h2><p>what’s the different mindset? recursive. when dealing with many-branches-travsersing (e.g. a tree strucutre), recursive is nature to think. since recursive only consider the neighbor two level branches.</p>
<p>for this example, inside each recursive need a for-loop to catch all possible positions of the satisfied character, and stack is need to, when visiting a new character from <code>T</code> need poush, and when find out a <code>T</code>, then need to pop out the last character. </p>
<p>during breadth traversing tree, either using a pure recursive or  using stack with a while-loop. but here it needs a for-loop and stack inside each recursive. (a little complex)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">rec</span><span class="params">(<span class="built_in">string</span>&amp; S, <span class="built_in">string</span>&amp; T, <span class="built_in">string</span>::iterator tc, <span class="built_in">std</span>::<span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; ss,  <span class="keyword">int</span>&amp; nums )</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(tc == T.end())</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i= <span class="number">0</span>; i&lt;S.size(); i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(S[i] == *tc)</div><div class="line">		&#123;</div><div class="line">			ss.push(*tc);</div><div class="line">			<span class="keyword">if</span>(ss.size() != T.size())</div><div class="line">			&#123;</div><div class="line">				<span class="built_in">string</span> cur_s = S.substr(i+<span class="number">1</span>); </div><div class="line">				rec(cur_s, T,  ++tc,  ss, nums);</div><div class="line">				--tc; </div><div class="line">				ss.pop();</div><div class="line">			&#125;<span class="keyword">else</span></div><div class="line">			&#123;</div><div class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">"found one\n"</span> ; </div><div class="line">				nums++; </div><div class="line">				ss.pop(); </div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">sol</span><span class="params">(<span class="built_in">string</span>&amp; S,  <span class="built_in">string</span>&amp; T)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">string</span>::iterator tit = T.begin();</div><div class="line">	<span class="built_in">std</span>::<span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt;  ss ;</div><div class="line">	<span class="keyword">int</span> nums =<span class="number">0</span>; </div><div class="line">	rec(S, T, tit, ss, nums); </div><div class="line">	</div><div class="line">	<span class="keyword">return</span> nums; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>TODO: there suppose be a general pattern for this kind of problem. </p>
<h2 id="third-thoughts"><a href="#third-thoughts" class="headerlink" title="third thoughts"></a>third thoughts</h2><p>if the problem is too complex to handle at first, more memory always make it looks simple, using containers to split the content. with 2 for-loops to create #num of buckets to store positions of each alphaet in <code>T</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">sol</span><span class="params">(<span class="built_in">string</span>&amp; s1,  <span class="built_in">string</span>&amp; s2)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> length =  s2.size(); </div><div class="line">	<span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;  smap; </div><div class="line">	<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pos; </div><div class="line">	<span class="built_in">string</span>::iterator sit; </div><div class="line">	<span class="keyword">char</span> alpha ; </div><div class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;s2.size(); i++)</div><div class="line">	&#123;</div><div class="line">		alpha = s2[i]; </div><div class="line">		<span class="keyword">int</span> i=<span class="number">0</span>; </div><div class="line">		pos.clear(); </div><div class="line">		<span class="keyword">for</span>(sit = s1.begin(); sit != s1.end(); sit++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>( alpha == *sit)</div><div class="line">			&#123;</div><div class="line">				pos.push_back(i++);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		smap.insert(<span class="built_in">std</span>::pair&lt;<span class="keyword">char</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;(alpha, pos);</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<pre><code>b 0, 2, 4
a 1, 5
g 3, 6
</code></pre><p>after get the map, then play the combinations games. that’s actually still a recursive problem.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/01/Btree-traversal/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/01/Btree-traversal/" itemprop="url">Btree traversal</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-01T23:01:14-04:00">
                2018-10-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/01/Btree-traversal/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/10/01/Btree-traversal/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://en.wikipedia.org/wiki/Tree_traversal" target="_blank" rel="external">Btree traversal</a> is obvious to implement in recursion. here are non-recursion implementation, which needs <code>std::stack</code> or <code>std::queue</code> data structure to store the next level nodes in both deep-first-search idea and breadth-first-search idea, <a href="https://zjli2013.github.io/" target="_blank" rel="external">link</a>. these are good examples of using stack, queue. </p>
<p>usage in <a href="https://leetcode.com/problems/flatten-binary-tree-to-linked-list/description/" target="_blank" rel="external">leetCode114</a>, flatten a BTree to a linked list</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line">void preorder_print(TreeNode* leaf)</div><div class="line">&#123;</div><div class="line">	if(leaf == nullptr)</div><div class="line">		return; </div><div class="line">	</div><div class="line">	std::stack&lt;int&gt; s; </div><div class="line">	TreeNode* tmp ; </div><div class="line">	s.clear();  //</div><div class="line">	s.push(leaf);</div><div class="line">	while(!s.empty())</div><div class="line">	&#123;</div><div class="line">		tmp = s.pop(); </div><div class="line">		cout &lt;&lt; tmp-&gt;value  &lt;&lt; ', ' ;</div><div class="line">		if(leaf-&gt;right != nullptr)</div><div class="line">			s.push(leaf-&gt;right);</div><div class="line">		if(leaf-&gt;left != nullptr)</div><div class="line">			s.push(leaf-&gt;left);</div><div class="line">	&#125;</div><div class="line">		</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">void inorder_print(TreeNode* leaf)</div><div class="line">&#123;</div><div class="line">	std::stack&lt;int&gt; s ; </div><div class="line">	s.clear(); </div><div class="line">	TreeNode *tmp; </div><div class="line">	</div><div class="line">	while( !s.empty() || leaf!=nullptr)</div><div class="line">	&#123;</div><div class="line">		if(leaf != nullptr)</div><div class="line">		&#123;</div><div class="line">			s.push(leaf);</div><div class="line">			leaf = leaf-&gt;left;</div><div class="line">		&#125;else</div><div class="line">		&#123;</div><div class="line">			tmp = s.top();</div><div class="line">			s.pop(); </div><div class="line">			cout &lt;&lt; tmp-&gt;value &lt;&lt; ', ' ;</div><div class="line">			leaf = leaf-&gt;right;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void postorder_print(TreeNode* leaf)</div><div class="line">&#123;</div><div class="line">	std::stack&lt;int&gt; s ;</div><div class="line">	s.clear();</div><div class="line">	</div><div class="line">	TreeNode *lastNodeVisited = nullptr ; </div><div class="line">	TreeNode *peekNode = nullptr; </div><div class="line">	</div><div class="line">	while( !s.empty() || leaf != nullptr)</div><div class="line">	&#123;</div><div class="line">		if(leaf != nullptr)</div><div class="line">		&#123;</div><div class="line">			s.push(leaf);</div><div class="line">			leaf = leaf-&gt;left;</div><div class="line">		&#125;else</div><div class="line">		&#123;</div><div class="line">			peekNode = s.top();</div><div class="line">			if(peekNode-&gt;right != nullptr &amp;&amp; lastNodeVisited != peekNode-&gt;right)</div><div class="line">				leaf = peekNode-&gt;right;</div><div class="line">			else</div><div class="line">			&#123;</div><div class="line">				cout &lt;&lt; peekNode-&gt;value &lt;&lt; ', ';</div><div class="line">				lastNodeVisited = s.top();</div><div class="line">				s.pop();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void bfs_print(TreeNode* leaf)</div><div class="line">&#123;</div><div class="line">	std::queue&lt;int&gt; q ;</div><div class="line">	q.clear();</div><div class="line">	q.push(leaf);</div><div class="line">	TreeNode *node; </div><div class="line">	while( ! q.empty())</div><div class="line">	&#123;</div><div class="line">		node = q.front(); </div><div class="line">		q.pop();</div><div class="line">		cout &lt;&lt; node-&gt;vaue &lt;&lt; ', ';</div><div class="line">		</div><div class="line">		if(node-&gt;left != nullptr)</div><div class="line">			q.push(node-&gt;left);</div><div class="line">		</div><div class="line">		if(node-&gt;right != nullptr)</div><div class="line">			q.push(node-&gt;right)</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/24/construct-a-self-balanced-BStree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/24/construct-a-self-balanced-BStree/" itemprop="url">construct a self balanced BStree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-24T17:59:21-04:00">
                2018-09-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/24/construct-a-self-balanced-BStree/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/24/construct-a-self-balanced-BStree/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/convert-sorted-list-to-binary-search-tree/description/" target="_blank" rel="external">leetCode 109</a> construct a height-balanced Binary Search tree from input array(sorted or not).</p>
<p>a self-balanced BStree, which means the left and right kid of each node have no more than 1 height difference, also named as AVL tree. There are three basic routines in implementation of AVL tree:  right <a href="https://en.wikipedia.org/wiki/Tree_rotation" target="_blank" rel="external">tree rotate</a>, left tree rotate, and insert. and each TreeNode requires an additionly <code>height</code> value.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="function">TreeNode*  <span class="title">rightRotate</span><span class="params">(TreeNode* leaf)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(leaf==<span class="literal">nullptr</span>)</div><div class="line">		<span class="keyword">return</span> leaf;</div><div class="line">	</div><div class="line">	TreeNode*  root_left =  leaf-&gt;left ;</div><div class="line">	TreeNode*  left_right = root_left-&gt;right ;</div><div class="line">	root_left-&gt;right = leaf;</div><div class="line">	leaf-&gt;left = left_right;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> root_left; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">TreeNode* <span class="title">leftRotate</span><span class="params">(TreeNode* leaf)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(leaf==<span class="literal">nullptr</span>)</div><div class="line">		<span class="keyword">return</span> leaf;</div><div class="line">	</div><div class="line">	TreeNode* root_right = leaf-&gt;right; </div><div class="line">	TreeNode* right_left = root_right-&gt;left; </div><div class="line">	root_right-&gt;left = leaf;</div><div class="line">	leaf-&gt;right =  right_left;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> root_right;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">TreeNode* <span class="title">insert</span><span class="params">(TreeNode* root, <span class="keyword">int</span> key)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(root==<span class="literal">nullptr</span>)</div><div class="line">		<span class="keyword">return</span> (<span class="keyword">new</span> TreeNode(key));</div><div class="line">	</div><div class="line">	<span class="keyword">if</span>(key &gt; root-&gt;val)</div><div class="line">		root-&gt;right = insert(root-&gt;right, key);</div><div class="line">	</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(key &lt; root-&gt;val)</div><div class="line">			root-&gt;left = insert(root-&gt;left, key);</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> root; </div><div class="line">	</div><div class="line">	root-&gt;height = <span class="built_in">std</span>::max(height(root-&gt;left), height(root-&gt;right)) + <span class="number">1</span> ; </div><div class="line">	<span class="keyword">int</span> balance = height_dif(root); </div><div class="line">	<span class="keyword">if</span>(balance &gt; <span class="number">1</span> &amp;&amp; key &lt; root-&gt;val )  <span class="comment">//new key inserted in left sub </span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> rightRotate(root); </div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">/* keep in mind,    -1 &lt;= last_balance &lt;= 1 </span></div><div class="line">	   only  key &lt; root-&gt;val, will it possible that current_balance &gt; 1 */</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(balance &lt; <span class="number">-1</span> &amp;&amp; key &gt; root-&gt;val )</div><div class="line">	&#123;	</div><div class="line">		<span class="keyword">return</span> leftRotate(root);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> root; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>at the very first coding I natively pass node pointer by reference:</p>
<pre><code>TreeNode* insert(TreeNode* &amp;root, int key)
root-&gt;right = insert(root-&gt;right, key);
</code></pre><p>since assigned insert() back to the same node pointer again, if passing by reference, each insert will clear the memory-write the same memory all the time, and can’t generate. what actually happen in <code>insert</code> is creating a new object. </p>
<p>the structure pointer inside structure definition is the trick here. when define <code>root</code> node, both <code>left</code>and <code>right</code> nodes are <code>nullptr</code>, so argument <code>root-&gt;right</code> is <code>nullptr</code>, but the returning <code>root-&gt;right</code> is actually pointing to a node structure memory. </p>
<p>also <a href="https://en.wikipedia.org/wiki/Null_pointer#Null_Dereferencing" target="_blank" rel="external">nullptr can’t be dereferring</a>,  basically since nullptr doesn’t point to any meaningful object, to dereference a null pointer will cause runtime or immediate crash.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/19/construct-BTree-from-pre-in-post-order-input/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/19/construct-BTree-from-pre-in-post-order-input/" itemprop="url">construct BTree from pre/in/post-order input</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-19T17:33:49-04:00">
                2018-09-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/19/construct-BTree-from-pre-in-post-order-input/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/19/construct-BTree-from-pre-in-post-order-input/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="pre-amp-in-order-input"><a href="#pre-amp-in-order-input" class="headerlink" title="pre&amp;in-order input"></a>pre&amp;in-order input</h2><p><a href="https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/description/" target="_blank" rel="external">leetCode105</a> :  given preorder and inorder traversal of a tree, construct the binary tree. </p>
<p>sol: each top node in Btree, has left-branch and right-branch, and each branch is a similar-structure subtree. so every time pop out the top node, and recursive the two subtrees, which return as the left kid and right kid of current top node.</p>
<p>the recursive stopped when the list is empty(in real case, this means the node has only either left or right kid);  or stopped when only one element in the list(in real case, the node has both kids, so left or right subtree has only one element).</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="function">TreeNode* <span class="title">sol</span><span class="params">(<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; pre,  <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; in)</span></span></div><div class="line"> &#123;</div><div class="line">	 <span class="keyword">if</span>(pre.empty() || in.empty())</div><div class="line">	 &#123;</div><div class="line">		 <span class="keyword">return</span> <span class="literal">nullptr</span>; <span class="comment">//empty left/right node </span></div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 <span class="keyword">if</span>(pre.size() == <span class="number">1</span> &amp;&amp; in.size() == <span class="number">1</span>) </div><div class="line">	 &#123;</div><div class="line">			 <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(pre.front());</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 <span class="keyword">int</span> root = pre.front(); </div><div class="line">	 pre.pop_front(); </div><div class="line">	 TreeNode* root_node = <span class="keyword">new</span> TreeNode(root); </div><div class="line">	 <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator in_it, pre_it; </div><div class="line">	 in_it =  <span class="built_in">std</span>::find(in.begin(), in.end(), root);</div><div class="line">	 <span class="keyword">if</span>(in_it == in.end()) <span class="comment">//only one node in inorder list now, wont happen</span></div><div class="line">	 &#123;</div><div class="line">		<span class="keyword">return</span> (<span class="keyword">new</span> TreeNode(in.front()));</div><div class="line">	 &#125;</div><div class="line">	 <span class="keyword">int</span> idx =  <span class="built_in">std</span>::distance(in.begin(), in_it);</div><div class="line">	 <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; in_left_subtree(in.begin(), in_it);</div><div class="line">	 <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; in_right_subtree(++in_it, in.end());	</div><div class="line">	 in.erase(in_it);</div><div class="line">	 </div><div class="line">	pre_it = pre.begin(); </div><div class="line">	<span class="built_in">std</span>::advance(pre_it, idx); </div><div class="line">	</div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; pre_left_subtree(pre.begin(), pre_it); </div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; pre_right_subtree(pre_it, pre.end()); 	</div><div class="line">	</div><div class="line">	root_node-&gt;left = sol(pre_left_subtree, in_left_subtree);</div><div class="line">	root_node-&gt;right = sol(pre_right_subtree, in_right_subtree);</div><div class="line"></div><div class="line">	<span class="keyword">return</span> root_node; 	 </div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>in each recursive step, I am using exteral containers, same stragey in <a href="https://zjli2013.github.io/2018/09/11/scrabmle-string/" target="_blank" rel="external">scramble string</a>. is there a one-swap way? </p>
<h2 id="post-in-order-input"><a href="#post-in-order-input" class="headerlink" title="post/in-order input"></a>post/in-order input</h2><p><a href="https://leetcode.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/description/" target="_blank" rel="external">leetCode106</a></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function">TreeNode*  <span class="title">sol</span><span class="params">(<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; in,  <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; post)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(in.empty() || post.empty())</div><div class="line">		<span class="keyword">return</span> <span class="literal">nullptr</span>; </div><div class="line">	</div><div class="line">	<span class="keyword">if</span>(in.size() == <span class="number">1</span> || post.size() == <span class="number">1</span>)</div><div class="line">		<span class="keyword">return</span> (<span class="keyword">new</span> TreeNode(in.front())); <span class="comment">// return the left || right kid </span></div><div class="line">	</div><div class="line">	<span class="comment">//first find out the tree root, the last element in post-order </span></div><div class="line">	<span class="keyword">int</span> root_v =  post.back();</div><div class="line">	TreeNode* root = <span class="keyword">new</span> TreeNode(root_v); </div><div class="line">	post.pop_back(); </div><div class="line">	<span class="comment">//find root_v in  inorder </span></div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator  in_lit =  <span class="built_in">std</span>::find(in.begin(), in.end(), root_v); </div><div class="line">	</div><div class="line">	<span class="comment">//create subtrees recursive </span></div><div class="line">	<span class="keyword">int</span> left_length =  <span class="built_in">std</span>::distance(in.begin(), in_lit); </div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; in_left_sub(in.begin(), in_lit); </div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; in_right_sub(++in_lit, in.end()); </div><div class="line">	in.erase(in_lit); </div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator post_lit = <span class="built_in">std</span>::next(post.begin(), left_length); </div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; post_left_sub(post.begin(), post_lit);</div><div class="line">	<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; post_right_sub(post_lit, post.end()); </div><div class="line">	</div><div class="line">	root-&gt;left = sol(in_left_sub, post_left_sub); </div><div class="line">	root-&gt;right = sol(in_right_sub, post_right_sub);</div><div class="line"></div><div class="line">	<span class="keyword">return</span> root ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/19/construct-BTree-from-breadth-order-input/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/19/construct-BTree-from-breadth-order-input/" itemprop="url">construct BTree from breadth-order input</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-19T17:32:22-04:00">
                2018-09-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/19/construct-BTree-from-breadth-order-input/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/19/construct-BTree-from-breadth-order-input/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>first there should be a queue or stack to store the next layer elements, as the tree go deeper, there are many branches, which requires a contianer to track what’s the elements in next layer. stack always pop out the top element(FILO), which actually set the input elements in a reversed order as tree elements; queue can pop out the first element(FIFO), which can set the input elements in the same order in tree elements. so here pick std::queue. </p>
<p>the input array can used std::vector, each time pop_front(), which basically read the array in order. and each pop_front element constructs a new <code>TreeNode</code>. if the layer container is empty(), then it’s the root layer; else it’s a branch layer. growing the tree in each branch layer, need update the next layer container.</p>
<p>for each new inserting element, either insert to left or right of node A in  parent layer  or insert to the A’s sibling node B. then pop out the node which already has both kids. </p>
<p>when traversling to the last node in parent layer, and if both the kids are filled-in, then there is a turning point, need to swap next_parent layer as parent layer.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_kids</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">queue</span>&lt;TreeNode*&gt;&amp; parents, <span class="built_in">std</span>::<span class="built_in">queue</span>&lt;TreeNode*&gt;&amp; next_parents, TreeNode* p)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(parents.empty())</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line"></div><div class="line">	TreeNode* father = parents.front();</div><div class="line">	<span class="keyword">if</span>(!father-&gt;left)</div><div class="line">	&#123;</div><div class="line">		father-&gt;left = p;</div><div class="line">		<span class="keyword">if</span>(p)</div><div class="line">			next_parents.push(p);</div><div class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(!father-&gt;right)</div><div class="line">	&#123;</div><div class="line">		father-&gt;right = p;</div><div class="line">		<span class="keyword">if</span>(p)</div><div class="line">			next_parents.push(p);</div><div class="line">	&#125;<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		parents.pop(); </div><div class="line">		<span class="keyword">if</span>(parents.empty())  <span class="comment">// turning point, if returned then p will be lost </span></div><div class="line">		&#123;</div><div class="line">			parents.swap(next_parents);  </div><div class="line">		&#125;		</div><div class="line">		insert_kids(parents, next_parents, p); 	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">TreeNode* <span class="title">breadth_construct</span><span class="params">(<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; arr)</span></span></div><div class="line">&#123;</div><div class="line">	TreeNode *p, *root ; </div><div class="line">	<span class="keyword">int</span> x ; </div><div class="line">	<span class="built_in">std</span>::<span class="built_in">queue</span>&lt;TreeNode*&gt; parents, next_parents; </div><div class="line">	</div><div class="line">	<span class="keyword">while</span>(!arr.empty())</div><div class="line">	&#123;</div><div class="line">		x = arr.front();	</div><div class="line">		arr.pop_front();</div><div class="line">		</div><div class="line">		p = (TreeNode*) <span class="keyword">new</span> TreeNode(x); </div><div class="line">			</div><div class="line">		<span class="keyword">if</span>(parents.empty())</div><div class="line">		&#123;</div><div class="line">			parents.push(p);</div><div class="line">			root = p ; </div><div class="line">			<span class="keyword">continue</span>; </div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>( !parents.empty())  <span class="comment">//at this step, parents still has 1 element, but after insert_kids, parents is empty. then </span></div><div class="line">		&#123;</div><div class="line">			insert_kids(parents, next_parents, p); </div><div class="line">			<span class="keyword">continue</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> root; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>how to deal with <code>NULL</code> during struct constructure? if both <code>(int x)</code> and <code>(TreeNode* p)</code> constructor are defined, which will lead to ambisious when new TreeNode(NULL).</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> value ;</div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> *<span class="title">left</span> ;</span></div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> *<span class="title">right</span>;</span></div><div class="line">	<span class="comment">//<span class="doctag">TODO:</span> how to implement copy assignment in structure ?</span></div><div class="line">	TreeNode(TreeNode* p)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(p == <span class="literal">NULL</span>)</div><div class="line">		&#123;</div><div class="line">			value = <span class="number">0</span>;</div><div class="line">			left = <span class="literal">NULL</span>;</div><div class="line">			right = <span class="literal">NULL</span>;</div><div class="line">		&#125;<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			value = p-&gt;value;</div><div class="line">			left = p-&gt;left;</div><div class="line">			right = p-&gt;right; </div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	TreeNode(<span class="keyword">int</span> x):</div><div class="line">		value(x), </div><div class="line">		left(<span class="literal">NULL</span>),	</div><div class="line">		right(<span class="literal">NULL</span>)</div><div class="line">		&#123;</div><div class="line">		&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/19/print-combinatorics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/19/print-combinatorics/" itemprop="url">print combinatorics</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-19T17:30:23-04:00">
                2018-09-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/19/print-combinatorics/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/19/print-combinatorics/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>combinatorics related algorithms e.g. unique BST(leetCode95), Permutations(46), Unique Path(62).  Give an integer <code>m</code>, how many different combinations can have? mathematically, it’s a permutation <code>P_m^m</code> or combination <code>C_m^n</code> problem, the total number is easy to calculate, but how to write a code to print out each combination elegantly ?</p>
<p>one core step: how to generate a new combination(k+1) array by inserting one new element into the current combination(k). e.g. </p>
<pre><code>{1, 2} --&gt; {3, 1, 2}, {1, 3, 2}, {1, 2, 3}
</code></pre><p>here is basically insert <code>3</code> at (k+1) positions, and each new position will generate a new combination with (k+1) size. depends on the problem, choose either <code>vector</code>(to support random access) or <code>list</code> (to support O(1) insert or delete) as the container. </p>
<p>one tip here, how to erase one element from std::list while iterating ?</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&gt;  next_layer(<span class="built_in">vector</span>&lt;<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; layer, <span class="keyword">int</span> c)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(layer.empty())</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; tmp ;</div><div class="line">		tmp.push_back(c);</div><div class="line">		layer.push_back(tmp);</div><div class="line">		<span class="keyword">return</span> layer;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&gt; next_layer_v, cur; </div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;layer.size(); i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator lit ;</div><div class="line">		<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;  arr = layer[i] ; </div><div class="line">		cur.clear();</div><div class="line">		<span class="keyword">for</span>(lit = arr.begin(); lit != arr.end(); lit++)</div><div class="line">		&#123;</div><div class="line"> 			arr.insert(lit, c); <span class="comment">//insert c in front of lit</span></div><div class="line">   			cur.push_back(arr);</div><div class="line">   			lit = arr.erase(--lit);  <span class="comment">// erase c, which is 1 step in front of lit, and must return lit here, else lit will become non-refereable </span></div><div class="line">		&#125;</div><div class="line">	</div><div class="line">	 	next_layer_v.insert(next_layer_v.end(), cur.begin(),  cur.end()); </div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> next_layer_v; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">sol</span><span class="params">(<span class="keyword">int</span> num)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; &gt; layer, last_layer;</div><div class="line">  <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;  cur_list ;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt; num; i++)</div><div class="line">  &#123;</div><div class="line">	  layer = next_layer(last_layer, i);</div><div class="line">	  last_layer = layer;</div><div class="line">  &#125;</div><div class="line">  print_vec_list(layer);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>this implementation is more clear than what I did in <a href="https://zjli2013.github.io/2018/08/29/how-recursive-works/" target="_blank" rel="external">Permutation</a></p>
<p>while the memory of many last layers vector<list<int>&gt; actually are not in using. how to recycle the memory ?</list<int></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&gt;().swap(layer);</div><div class="line"><span class="comment">//or -std=c++11</span></div><div class="line">layer.resize(<span class="number">0</span>);</div><div class="line">layer.shrink_to_fit();</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/11/object-creating-in-C-C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/11/object-creating-in-C-C/" itemprop="url">object creating in C/C++</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-11T21:09:08-04:00">
                2018-09-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/11/object-creating-in-C-C/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/11/object-creating-in-C-C/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="construct-an-object"><a href="#construct-an-object" class="headerlink" title="construct an object"></a>construct an object</h2><p>the compiler will define a default constructor with no parameters, if there is no user defined default constructors. usually the parameters for user defined(UD) default constructors should have default values. </p>
<p>directly call the UD constructor will create an object; call the UD through new keyword will create an object pointer.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> val; </div><div class="line">	TreeNode *right ;</div><div class="line">	TreeNode *left;</div><div class="line">	TreeNode(<span class="keyword">int</span> x=<span class="number">0</span>): val(x), left(<span class="literal">NULL</span>), right(<span class="literal">NULL</span>)&#123;&#125;; <span class="comment">//user defined constructor </span></div><div class="line">	TreeNode(<span class="keyword">const</span> TreeNode *cp) <span class="comment">//copy constructor </span></div><div class="line">	&#123;</div><div class="line">		val = cp-&gt;val;</div><div class="line">		right = cp-&gt;right;</div><div class="line">		left = cp-&gt;left;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">TreeNode node1; </div><div class="line"><span class="function">TreeNode <span class="title">node2</span><span class="params">(<span class="number">100</span>)</span></span>;</div><div class="line">TreeNode *node_p = <span class="keyword">new</span> TreeNode(<span class="number">10</span>);</div></pre></td></tr></table></figure>
<h2 id="create-an-object-in-pure-C"><a href="#create-an-object-in-pure-C" class="headerlink" title="create an object in pure C"></a>create an object in pure C</h2><p><code>new</code> operator do two things: allocate memory for a C++ class object, then call the object’s constructor to initialize this object. basically, <code>new</code> packages memory management of objects and objects initialization.</p>
<p>while in pure C,  since there is no object constructor, after <code>malloc</code>  memory for the structure, either call an initial function or manually initialize this structure member variables.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">TreeNode </div><div class="line">&#123;</div><div class="line">	int val; </div><div class="line">	TreeNode *right ;</div><div class="line">	TreeNode *left;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()</div><div class="line">&#123;</div><div class="line">   TreeNode *p =  (TreeNode*) malloc( sizeof(struct TreeNode)); </div><div class="line">   p-&gt;val = 0;</div><div class="line">   p-&gt;right = NULL; </div><div class="line">   p-&gt;left = NULL ; </div><div class="line">&#125;</div><div class="line">``` </div><div class="line">  </div><div class="line">## construct an object array </div><div class="line"></div><div class="line">beyond creating one object (pointer), how to create object array.  </div><div class="line"></div><div class="line">```c </div><div class="line">int nums = 5;</div><div class="line">TreeNode tree_array[nums];</div><div class="line">TreeNode *tree_p = (TreeNode*) new TreeNode[nums];</div></pre></td></tr></table></figure>
<p>be aware, each element in tree_array has the whole memory of TreeNode structure; and tree_p++ will go to next TreeNode structure, tree_p[i] is also a whole memory of TreeNode structure. </p>
<h2 id="create-an-object-array-in-pure-C"><a href="#create-an-object-array-in-pure-C" class="headerlink" title="create an object array in pure C"></a>create an object array in pure C</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> nums = <span class="number">5</span>;</div><div class="line">TreeNode *tree_p = (TreeNode*) <span class="built_in">malloc</span>(nums * <span class="keyword">sizeof</span>(TreeNode));</div></pre></td></tr></table></figure>
<p>basically <code>malloc</code> will return a pointer to a block of memory, but it’s not responsible to initialize this block of memory. </p>
<h2 id="the-rule-of-five"><a href="#the-rule-of-five" class="headerlink" title="the rule of five"></a>the rule of five</h2><p><a href="https://cpppatterns.com/patterns/rule-of-five.html" target="_blank" rel="external">rule of three</a> is about how to manage dynamically allocated resources in C++.</p>
<p>why it is necessary? </p>
<p>1) when parameter B is copying by value from A, if no user defined copy constructor, the compiler will do a shallow copy from A to B by default, in which  a new pointer point to the same content address. at the end of function call, the parameter B is out of scope, so destructor is called, and A is still there. but at the end of the main function, A is out of scope, need deallocating, then error is B already deallocate the content of A. </p>
<p>with a user defined copy constructor, B will get a deep copy of A, so no sharing content, no problems when deallocating either B or A.</p>
<p>2) if no user specified assignment constructor, a shallow copy happens, then error-potential. and assignment constructor (operator=) can be implemented with copy constructor. </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	TreeNode node1;</div><div class="line">	TreeNode node2 = node1; <span class="comment">//actually a copy-construct, same as node2(node1)</span></div><div class="line">	TreeNode node3 ;</div><div class="line">	node3 = node1 ; <span class="comment">//a compiler assignment-construct by default(shallow copy)</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/11/scrabmle-string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/11/scrabmle-string/" itemprop="url">scrabmle string</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-11T21:07:03-04:00">
                2018-09-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/11/scrabmle-string/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/11/scrabmle-string/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/scramble-string/description/" target="_blank" rel="external">scramble string</a> at leetCode 87. sol: get all possible scrambled strings of s1, then compare if s2 is in it.</p>
<pre><code>for 1-char:   scramble(&quot;a&quot;) --&gt; &quot;a&quot; 
    for 2-chars :  scramble(&quot;ab&quot;) --&gt; &quot;ba&quot;  
for 3-chars:  scramble(&quot;abc&quot;) --&gt; &quot;bac&quot;, &quot;cba&quot;,  &quot;acb&quot;, &quot;cba&quot;      for 4-chars:   scramble(&quot;abcd&quot;) --&gt;  (a | bcd) + (ab | cd) +  (abc | d) 
for 5-chars:  scramble(&quot;abcde&quot;) --&gt; (a | bcde) +  (ab | cde) +  (abc |  de) + (abcd | e) 
</code></pre><p>from the enumaration, there is always a left-substring and a right-substring, and recursive in each substring. consider the push_back order, there are two:  left-&gt;\right and right-&gt;\left at each two slibings.</p>
<p>additional routines: how to do substring join and how to delete duplicate string from string-vector.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"> <span class="function"><span class="built_in">string</span> <span class="title">join</span><span class="params">(<span class="built_in">string</span>&amp; sub1, <span class="built_in">string</span>&amp; sub2)</span></span></div><div class="line"> &#123;</div><div class="line">	 <span class="built_in">string</span> res; </div><div class="line">	 res.reserve(sub1.size() + sub2.size());</div><div class="line">	 </div><div class="line">	 <span class="built_in">string</span>::iterator it;</div><div class="line">	 </div><div class="line">	 <span class="keyword">for</span>(it = sub1.begin(); it != sub1.end(); it++)</div><div class="line">		 res.push_back(*it);</div><div class="line">	 </div><div class="line">	 <span class="keyword">for</span>(it = sub2.begin(); it != sub2.end(); it++)</div><div class="line">		 res.push_back(*it);</div><div class="line">	 </div><div class="line">	 <span class="keyword">return</span> res;</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> <span class="comment">//<span class="doctag">TODO:</span>  keep in mind the transfer function, and how to design it  </span></div><div class="line"> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;  scramble(<span class="built_in">string</span>&amp; s)</div><div class="line"> &#123;</div><div class="line">	 <span class="built_in">string</span>  ls, rs; </div><div class="line">	 <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vls, vrs, vcurs; </div><div class="line">	 </div><div class="line">	 <span class="keyword">if</span>(s.size() == <span class="number">1</span>)</div><div class="line">	 &#123;</div><div class="line">		 vcurs.push_back(s); </div><div class="line">		 <span class="keyword">return</span> vcurs; </div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;s.size(); i++)</div><div class="line">	 &#123;</div><div class="line">		 ls = s.substr(<span class="number">0</span>, i);</div><div class="line">		 rs = s.substr(i, s.size()); </div><div class="line">		 vls = scramble(ls);</div><div class="line">		 vrs = scramble(rs); 		 </div><div class="line">		 </div><div class="line">		 <span class="keyword">for</span>(<span class="keyword">int</span> m=<span class="number">0</span>; m&lt; vls.size(); m++)</div><div class="line">			 <span class="keyword">for</span>(<span class="keyword">int</span> n=<span class="number">0</span>; n &lt; vrs.size(); n++)</div><div class="line">			 &#123;				 </div><div class="line">				 vcurs.push_back(join(vls[m], vrs[n])); </div><div class="line">				 vcurs.push_back(join(vrs[n], vls[m])); 			 </div><div class="line">			 &#125;</div><div class="line">	 &#125;</div><div class="line"></div><div class="line"><span class="comment">/*how to delete duplicated string from vector&lt;string&gt; */</span> 	 </div><div class="line">	 <span class="built_in">std</span>::sort(vcurs.begin(), vcurs.end()); </div><div class="line">	 vcurs.erase( <span class="built_in">std</span>::unique(vcurs.begin(), vcurs.end()), vcurs.end()); </div><div class="line">	 <span class="keyword">return</span> vcurs; </div><div class="line"> &#125; </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">string</span> s1 = <span class="string">"abcd"</span> ;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; outs = scramble(s1); </div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;outs.size(); i++)</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; outs[i] &lt;&lt; <span class="built_in">endl</span>; </div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>How to write a completed code, meaning, always take care the boundaries correctly, no missing situations. It’s easy to start from scratch and achieve somewhere, but hard to be completed.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/15/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/17/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="David Z.J. Lee" />
          <p class="site-author-name" itemprop="name">David Z.J. Lee</p>
           
              <p class="site-description motion-element" itemprop="description">what I don't know</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">188</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">51</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ZJLi2013" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/zhengjia13/" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  LinkedIn
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">David Z.J. Lee</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://zjlee.disqus.com/count.js" async></script>
    

    

  




	





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
