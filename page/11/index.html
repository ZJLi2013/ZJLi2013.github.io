<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="what I don&apos;t know">
<meta property="og:type" content="website">
<meta property="og:title" content="Serious Autonomous Vehicles">
<meta property="og:url" content="http://yoursite.com/page/11/index.html">
<meta property="og:site_name" content="Serious Autonomous Vehicles">
<meta property="og:description" content="what I don&apos;t know">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Serious Autonomous Vehicles">
<meta name="twitter:description" content="what I don&apos;t know">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/11/"/>





  <title>Serious Autonomous Vehicles</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Serious Autonomous Vehicles</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/未来五年在哪里/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/未来五年在哪里/" itemprop="url">未来五年在哪里</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-21T15:55:34-05:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/21/未来五年在哪里/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/21/未来五年在哪里/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="两种思维"><a href="#两种思维" class="headerlink" title="两种思维"></a>两种思维</h2><p>不同的思维反映了不同的背景。面对一个商业想法，一个对细节严肃的工程师，首先会估量自己对讨论的领域是否足够熟悉，然后会考虑技术上是否可行。马云说他是阿里巴巴最不懂技术的人，却能够把握大方向；相反往往问题没解决，责怪技术不够的，会陷入用一个技术解决另一个技术的游戏中，而远离了大方向。</p>
<p>张首晟教授有分享在知识信息爆炸的时代该怎么学习。因为最优秀的书籍也已经多到一个人一辈子都读不完了，所以重要的是抓住道(principle)。举个极端的例子，如果地球毁灭，最后一个人只能带1kb 的信息离开地球，这个信息该是什么，能够保证人类文明不断流。</p>
<p>道与术的例子， 日本远海70公里发生了地震，多久巨浪会到达海岸线？一个细节严苛的学流体力学仿真的研究生，要跑一套cfd程序，考虑近似若干边界初始条件，然后花一两天调试，运行得到结果。而一个有物理常识的人，大概能估计几个跟巨浪速度有关的变量，就可以得到一个近似结果。</p>
<p>我的经验就是太容易过分依赖技术（本质是一种惰性，想回避该用人脑的分析），而忘了新技术的初衷，单纯为了迭代技术本身而发展新技术。世界正在把太多新技术太快速地塞进普通人的视野，不要说思考这些新技术到底意味什么，甚至这些新技术到底将如何产业化，进入普通人的生活都没有清晰。</p>
<p>很长时间，我对工程仿真技术有这样的误区。我已经忽略了cae本身要解决的问题，而只是沉迷在cae技术本身。或者说是，从研究（学生）到商业（职场）的角色没有转变过来。而商业需要的是一个能够打穿新技术与产品落地。他／她可以不懂技术的深度，但一定有广度和连结，能觉察到新技术可以在哪里发挥价值。</p>
<p>越来越感受到，思维会决定行为，而具有倾向性的行为会强化思维。一个没有商业经验的且受过高等技能教育的年轻人，会倾向强调技术，放大其重要性，而看不到其在企业经济大方向上的不合理性。比如，工程师倾向使用最新的技术在产品开发中，但企业定位可能是一款廉价快速打入市场的产品。这时候，在工程师看来完美的合理方案，于企业战略就是不合理的。</p>
<h2 id="emerging-market"><a href="#emerging-market" class="headerlink" title="emerging market"></a>emerging market</h2><table>
<thead>
<tr>
<th></th>
<th>emerging</th>
<th>matured</th>
</tr>
</thead>
<tbody>
<tr>
<td>platform</td>
<td>start up</td>
<td>large business</td>
</tr>
<tr>
<td>management</td>
<td>new</td>
<td>matured</td>
</tr>
<tr>
<td>involving</td>
<td>multi-role</td>
<td>single-role</td>
</tr>
<tr>
<td>stability</td>
<td>high-risk</td>
<td>low-risk</td>
</tr>
<tr>
<td>working env</td>
<td>shining</td>
<td>mediocre</td>
</tr>
<tr>
<td>creativity</td>
<td>knowledge-based</td>
<td>manage-based</td>
</tr>
</tbody>
</table>
<p>由新知识引导的商业创新，比如，生物科技，基因技术，新材料，量子计算，人工智能，核物理等，首先很容易给人带来极大的快感，特别让年轻人欲罢不能， 更吸引投资、社会关注。但是，emerging tech存在周期性：从新技术到产品的会有很长的空窗期。历史上电气时代（1830 - 1860年），在爱迪生开发电灯泡之后，数百家电气公司迅速出现，但20年内大部分被淘汰掉；铁路公司，PC电脑, 汽车制造，消费电子，包括最近的AI、自驾车行业，都体现着emerging market的规律：早期快速极度膨胀，然后几年内极度跌落，再慢慢恢复理性。</p>
<p>经济学上还有一个概念，就是新技术带来的就业远不能弥补旧行业消失造成的失业。时间久了，emerging market也会成为matured market。 </p>
<h2 id="团队选择"><a href="#团队选择" class="headerlink" title="团队选择"></a>团队选择</h2><p>emerging tech非常强调先发优势。很多新知识引导的商业创新，源自学校研究第一梯队，他们本身就是某项技术的原创团队，具有极强的先发优势，而且因为新知识门槛，被市场快速复制的可能性极低。比如，机器人、柔性可穿戴电子器件、基因检测、ai等等。</p>
<p>普通人的第一次团队选择，大多是在高校完成的。聪明人跟对了团队，在博士期间就可以引领emerging market。《新资本论》中提到，21世纪，劳动力与资本收益分配是1:7。 稍微感受下，知识经济将明显比资本有更高收益。</p>
<p>如果错过了第一次团队选择，普通人很难有后发优势，没钱没技术。所以，除非对该领域具有极强的认同感，执着的信仰，否则想在创业团队谋一份职业，可能是误判。</p>
<p>现实与认知之间的矛盾，往往反映一个人还没成熟。我的假象包括：创业团队更锻炼人，更吸引眼球，站在风头浪尖上，然而没有一个因素是因为我对该领域的认同感，不过是渴望它附加的虚荣。另外，个人成长动力不该仅源自环境，而必须是内心。环境在满足基本需求后，只叫人不讨厌它了；但爱上它，必须是从心发出的。</p>
<p>普通人的第二次团队选择，大多是在职场完成的。明确自己该要什么，不该要什么，也许对普通人选择matured market更友好。一方面是老生常谈的大企业病：成熟平庸。但是，创新成功并不都是声名噪动，也有闷声发大财。 成熟行业或成熟企业的创新，也许不是产品／技术本身，而在体系和管理。</p>
<p>而在一个成熟行业待不少于5年，才有可能了解系统，接触到管理。写到这里，不由又盘算要不要读MBA了，正好遇到明年经济糟糕。</p>
<p>– 感谢Selena</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/18/insertion-sort-list/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/18/insertion-sort-list/" itemprop="url">insertion sort list</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-18T18:00:29-05:00">
                2018-12-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/18/insertion-sort-list/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/18/insertion-sort-list/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/insertion-sort-list/" target="_blank" rel="external">leetCode 147</a>, this is  another example when solving problem, either find a good data structure, which looks like stand in a higher dimensions with additional DOF, or define the routines on the given data structure.</p>
<h2 id="additional-set"><a href="#additional-set" class="headerlink" title="additional set"></a>additional set</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">classcomp</span> &#123;</span></div><div class="line">  <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(<span class="keyword">const</span> ListNode* lhs, <span class="keyword">const</span> ListNode* rhs)</span> <span class="keyword">const</span></span></div><div class="line">  &#123;<span class="keyword">return</span> lhs-&gt;val &lt; rhs-&gt;val;&#125;</div><div class="line">&#125;;  </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">set</span>&lt;ListNode*, classcomp&gt;  labels ; </div><div class="line">    <span class="function">ListNode* <span class="title">insertionSortList</span><span class="params">(ListNode* head)</span> </span>&#123;</div><div class="line">            <span class="keyword">while</span>(head)&#123;</div><div class="line">                labels.insert(head); </div><div class="line">                head = head-&gt;next ;</div><div class="line">            &#125;</div><div class="line">     </div><div class="line">            head = labels[<span class="number">0</span>]; </div><div class="line">            ListNode* node = labels[<span class="number">0</span>]; </div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;labels.size(); i++)&#123;</div><div class="line">                node-&gt;next =  labels[i]; </div><div class="line">                node = node-&gt;next ; </div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            <span class="keyword">return</span> head; </div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">``` </div><div class="line"></div><div class="line">basically `<span class="built_in">unordered_set</span>` has ordering by <span class="keyword">default</span>, so how about first inserting each element from the <span class="built_in">list</span> to <span class="built_in">set</span>, then <span class="built_in">set</span> the next pointer <span class="keyword">for</span> each element, which take additional space, but did the job straight forward </div><div class="line"></div><div class="line"></div><div class="line">#<span class="meta"># single linked list</span></div><div class="line"></div><div class="line">since single linked <span class="built_in">list</span> can't access the previous node, so define prev pointer <span class="keyword">and</span> current pointer, <span class="keyword">and</span> every insertaion needs <span class="keyword">do</span> the compare from frist element to the previous element. </div><div class="line"></div><div class="line">```c </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line">  <span class="function"><span class="keyword">public</span>  ListNode *<span class="title">insertionoSortList</span><span class="params">(ListNode *head)</span></span>&#123;</div><div class="line">    ListNode *result = <span class="literal">nullptr</span> ;</div><div class="line">    <span class="keyword">if</span>(head == nullprt || head.next = null)&#123;</div><div class="line">      result = head ;</div><div class="line">      <span class="keyword">return</span> result ;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    ListNode *dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>); </div><div class="line">    ListNode *cur = head ; </div><div class="line">    ListNode *next, *pre;</div><div class="line">    <span class="keyword">while</span>(cur != <span class="literal">nullptr</span>)&#123;</div><div class="line">        next = cur-&gt;next ;</div><div class="line">        pre = dummy ; </div><div class="line">        <span class="keyword">while</span>(pre.next != <span class="literal">nullptr</span> &amp;&amp; pre.next-&gt;val &lt;  cur-&gt;val)&#123;</div><div class="line">          pre = pre.next ; </div><div class="line">        &#125;  <span class="comment">//return the position where cur node should insert </span></div><div class="line">        cur-&gt;next = pre-&gt;next ; </div><div class="line">        pre-&gt;next = cur ; </div><div class="line">        cur = next ; </div><div class="line">      &#125;       </div><div class="line">    &#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/18/lru-cache-design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/18/lru-cache-design/" itemprop="url">lru cache design</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-18T16:21:01-05:00">
                2018-12-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/18/lru-cache-design/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/18/lru-cache-design/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/lru-cache/" target="_blank" rel="external">leetCode 146</a>, for non-CS background, this kind of problem is out of mind, what is talking about, but I know at all it is about design a data structure to meet some requirements:</p>
<p>first a hash map data structure for key, value operations, e.g. get(), put(); but normal hash map can’t track the most recent used element, so either find a data structure, which can track the recently used element in the hash map; or define some routines to do it.</p>
<h2 id="a-data-structure-to-catch-recently-used"><a href="#a-data-structure-to-catch-recently-used" class="headerlink" title="a data structure to catch recently used"></a>a data structure to catch recently used</h2><p>each get(), put() will operate on one special element, and that element should be marked as recently used, and the next element is the least recently used element, which can be overlapped in next operation.</p>
<p><code>stack</code> and  <code>queue</code> have some property to track the most recent element, but they are one-way, not straight forward to manage two neighbor elements. </p>
<p><code>double linked list</code> is a good choice to track both the most recent element and the least most recent element. </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> val ;</div><div class="line">	<span class="keyword">int</span> key ;</div><div class="line">	Node *pre ;</div><div class="line">	Node *next ;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> value_, <span class="keyword">int</span> key_)</span></span></div><div class="line">	&#123;</div><div class="line">		val = value_;</div><div class="line">		key = key_ ; </div><div class="line">		pre = <span class="literal">NULL</span> ;</div><div class="line">		next = <span class="literal">NULL</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> &#123;</span></div><div class="line">	<span class="keyword">public</span>: </div><div class="line">		<span class="built_in">list</span>&lt;node*&gt; recent ;</div><div class="line">		unorder_map&lt;<span class="keyword">int</span>, node*&gt;  hash ;</div><div class="line">		<span class="keyword">int</span> capacity ;</div><div class="line">		</div><div class="line">		LRUCache(<span class="keyword">int</span> cap): capacity(cap) &#123;&#125;</div><div class="line">		</div><div class="line">		<span class="function">node* <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span></span>&#123;</div><div class="line">			<span class="keyword">if</span>(hash.find(key) != hash.end())&#123;</div><div class="line">				recent.remove(hash[key])</div><div class="line">				recent.push_front(hash[key]); </div><div class="line">				<span class="keyword">return</span> hash[key] ;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">return</span> <span class="number">-1</span> ;</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		<span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span></span>&#123;</div><div class="line">			<span class="keyword">if</span>(hash.find(key) != hash.end())&#123;</div><div class="line">				recent.remove(hash[key]);</div><div class="line">				hash[key] =  value; </div><div class="line">				recent.push_front(hash[key]);</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			node* tmp = <span class="keyword">new</span> node(value, key); </div><div class="line">			hash[key] = tmp ; </div><div class="line">			recent.remove(tmp); </div><div class="line">			recent.push_front(tmp);</div><div class="line">	</div><div class="line">			<span class="keyword">if</span>(hash.size() &gt;= capacity)&#123;</div><div class="line">				node *tmp2 = recent.back(); </div><div class="line">				hash.erase(tmp2-&gt;key); </div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h2 id="routines-to-track-recently-used"><a href="#routines-to-track-recently-used" class="headerlink" title="routines to track recently used"></a>routines to track recently used</h2><p>in this way, the hash is still needed, but define <a href="http://rainykat.blogspot.com/2017/02/leetcode-146-lru-cachehashmap-doubly.html" target="_blank" rel="external">routine</a> to set the latest updated node always at front.</p>
<pre><code class="c"><span class="function"><span class="keyword">void</span> <span class="title">setHead</span><span class="params">(Node* n)</span></span>{
    n.next = head ; 
    n.pre = null ;
    <span class="keyword">if</span>(head != null) head.pre = n ;
    head = n ; 
    <span class="keyword">if</span>(end == null) end = head;  <span class="comment">//only 1 element </span>
}
</code></pre>
<p>when solving real problems, either has a good understand about special data structure, which can solve this problem, or the raw way is to implement routines based on the exisiting input</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/18/where-are-you-in-next-5-years-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/18/where-are-you-in-next-5-years-4/" itemprop="url">where are you in next 5 years (4)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-18T00:01:36-05:00">
                2018-12-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/18/where-are-you-in-next-5-years-4/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/18/where-are-you-in-next-5-years-4/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="in-the-nude"><a href="#in-the-nude" class="headerlink" title="in the nude"></a>in the nude</h2><p>“only after the tide has faded, know who is in the nude”, the wise said. </p>
<p>distributable resources(social relationship, capital, core tech, market vision) define the success of a man in the world.</p>
<p>in normal days, people feel good about themselves, like they can take things in control and looks well, these factors are ignored, and crisis is under the hood; when situation changes, the crisis appears, then people feel unexpected surprise. </p>
<p>how crisis is so close along with us for a long time, and get igored for a long time ? another word, “standing in the wind, elephant can fly to the sky”, when market is good, normal people make money from stock. </p>
<p>it is not him become smart, worse he is not prepared for the coming bad times. </p>
<p>with no money, no social relations, and no core tech standing in the world, I should be humble to dirt, rather talking like everything is in control. for many young immigrants, the breakthrough is through education and learn core skill, and earn money and gradually being successful.  </p>
<p>this evening, watched Jack Ma speech, some ideas: in age 20 - 30, the best thing is to find a good boss and learn from him or the team; from age 30 - 40, try something for yourself, either to start a business or go for a art design degree; from 40 - 50, make sure to do things yourself most good at. </p>
<p>life is previous and short, no waste. find out my contribute to the world, and do it.</p>
<h2 id="the-right-thing"><a href="#the-right-thing" class="headerlink" title="the right thing"></a>the right thing</h2><p>I shared my thoughts with a friend, that I thought AV was the future in vehicle industry, so even though I had no experience in control algorithms, computer vision, sensor hardware, I will find a way in; on the other side, I am pretty familiar with CAE software products development and applications, how I choose ?</p>
<p>my friend said, neither. job is to make money. </p>
<p>Have to say, I am still focusing too much on the strong or the weak, the right or wrong. spent too much energy to find the line to  divide future into simple right choic and wrong choice.</p>
<p>I remembered another good friend, said I am used to pre-define or label people, but forget every similar story could have many different reasons and results.</p>
<p>if there is a unique right thing in the world, then everyone must follow it, but since the right thing/decision for each person is different, even though the world drive people to be similar, I should realize in every situation, every step, it is ok to have  a different right thing, rather than holding on the unique rightness</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/17/word-break-with-dfs-bfs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/17/word-break-with-dfs-bfs/" itemprop="url">word break with dfs & bfs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-17T23:22:15-05:00">
                2018-12-17
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/17/word-break-with-dfs-bfs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/17/word-break-with-dfs-bfs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/word-break/description/" target="_blank" rel="external">leetcode 139</a></p>
<h2 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h2><p>traversing string ,and split it one char by next, if find the splited left word in dict, recursiving the remaining right substring. in this way, it will make sure find a solution, but also traversing all unnecessary possibilites. and need design a class variable to stop the dfs() </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">bool</span> found = <span class="literal">false</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt;&amp; dict)</span></span>&#123;</div><div class="line">  <span class="built_in">string</span> left, right ;</div><div class="line">  <span class="keyword">if</span>(s.size() == <span class="number">0</span> || s.empty())</div><div class="line">  &#123;</div><div class="line">    found = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">return</span> found;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=s.size(); i++)</div><div class="line">  &#123;</div><div class="line">    left = s.substr(<span class="number">0</span>, i);</div><div class="line">    right = s.substr(i, s.size()-i);</div><div class="line">    <span class="keyword">if</span>(dict.find(left) !=  dict.end())</div><div class="line">    &#123;</div><div class="line">      dfs(right, dict);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> found;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="bfs"><a href="#bfs" class="headerlink" title="bfs"></a>bfs</h2><p>as mentioned above, <code>dfs</code> goes to all possibile branches, which is not required. <code>bfs</code> is like a greedy way, to find out one working solution and done.</p>
<p>also need keep track of searched left sub-strings, since the remaining right sub-strings may can not find a matched from dict, then the left sub-string is not acceptable, so the left sub-string need move one char further.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt;&amp; dict)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> len = s.size();</div><div class="line">    <span class="built_in">string</span> s1, q, left, right;</div><div class="line">    <span class="built_in">queue</span>&lt;<span class="built_in">string</span>&gt; sq;</div><div class="line">    sq.push(s);</div><div class="line"></div><div class="line">    <span class="built_in">string</span> tmp ;</div><div class="line">    <span class="keyword">while</span>(!sq.empty())&#123;</div><div class="line">    tmp = sq.front(); sq.pop();</div><div class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">    s1 = s ;</div><div class="line">    <span class="keyword">while</span>(!s1.empty() &amp;&amp; i &lt;= s1.size())</div><div class="line">    &#123;</div><div class="line">      <span class="keyword">if</span>(tmp == s)&#123;</div><div class="line">        left = s1.substr(<span class="number">0</span>, i);</div><div class="line">        right = s1.substr(i, s1.size()-i);</div><div class="line">      &#125;<span class="keyword">else</span></div><div class="line">      &#123;</div><div class="line">        left = s1.substr(<span class="number">0</span>, i+tmp.size()); <span class="comment">///will dead-cycle </span></div><div class="line">        right = s1.substr(i+tmp.size(), s1.size()-i-tmp.size());</div><div class="line">      &#125;</div><div class="line">      i++;</div><div class="line">      <span class="keyword">if</span>(dict.find(left) !=  dict.end())</div><div class="line">      &#123;</div><div class="line">        q += left ;</div><div class="line">        sq.push(left);</div><div class="line">        s1 = right;</div><div class="line">        i = <span class="number">0</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>this <code>bfs</code> is not good design.<br>a pretty simple sample <a href="https://www.jiuzhang.com/solution/word-break/#tag-highlight-lang-cpp" target="_blank" rel="external">code</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/15/where-are-you-in-next-5-years-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/15/where-are-you-in-next-5-years-3/" itemprop="url">where are you in next 5 years(3)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-15T12:24:59-05:00">
                2018-12-15
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/15/where-are-you-in-next-5-years-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/15/where-are-you-in-next-5-years-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>at the end of 2018,    I was lay off from GM after only a couple months. in the middle of 2018, I was planning to jump out from the traditional CAE group, to try the new autonomous vehicle. but a few things I missed when made that decision: </p>
<h2 id="the-big-environment"><a href="#the-big-environment" class="headerlink" title="the big environment"></a>the big environment</h2><p>how long will the traditional automotive industry stay in a sort of good shape? the answer now is not long. from Oct 2018, both Ford and GM publicly lay off over 15%, the vehicle market at both China and NA were significantly down from Q3; even earlier the manufactoring robotic supplieres mentioned their 2019 order were <code>almost zero</code>. so layoff employees is almost destined. </p>
<p>in economics, consumer index is the reason, employment/unemployment rate is the result, not the reverse. and there is a delay from consumer index to unemployment, about 3 ~ 6 month. so when the market is done, a few month later, the unempolyment rate will show up. </p>
<p>an even biggger environment, the trade war among China and USA raise the cost, fear both the consumers and the investors. not only vehicle market, consumer electronics (e.g. apple), internet(e.g. Google), retail industry(e.g. Alibaba) and as closely related to lologistics, chips, energy, housing, finance all go down. </p>
<p>the winter is coming. Sooo  scary, hate Trump !</p>
<h2 id="new-techs-in-vehicle"><a href="#new-techs-in-vehicle" class="headerlink" title="new techs in vehicle"></a>new techs in vehicle</h2><p>for a new stuff in market, the trend is starting extremely high, then low to bottom, then go to rationality. it happens to AI, autonomous vehicle(AV) market. starting from 2016, billions invest in, every step looks promising, revolution. but 2 years now, even Waymo said it can’t make AV in bussiness. </p>
<p>on one way, OEMs can’t be lay behind, so buy startups, on the other way, they can’t all invest in AV, which has no mature market strategy. the more invest, the higher risk. </p>
<p>for people who want to eat this AV cake, cold cold. </p>
<h2 id="how-to-face-the-changing-world"><a href="#how-to-face-the-changing-world" class="headerlink" title="how to face the changing world"></a>how to face the changing world</h2><p>have to say, there is no well-prepared in this quick-changing world, plan is always out of date.</p>
<p>at the middle of year, I thought I made the right decision to leave Ford CAE group, join GM autonmous group, now put myself in a poor situation. </p>
<p>I usually have a mind, that this thing has to, must to be done in this and only this way; this situation is and has to be dealed in this and only this way; this person is and has to be treated in this and only this way. I know this is the poor mindset. </p>
<p>they say “poor people make poor decisions”, thanks to warn me up. e.g. </p>
<pre><code>* so high risk to depend on one single incoming resource 

* no stable business, keep humble and keep foolish

* be positive, be felxible. 
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/14/clone-graph-with-dfs-bfs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/14/clone-graph-with-dfs-bfs/" itemprop="url">clone graph with dfs & bfs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-14T18:56:47-05:00">
                2018-12-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/14/clone-graph-with-dfs-bfs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/14/clone-graph-with-dfs-bfs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/clone-graph/" target="_blank" rel="external">leetcode 133</a>, the solution is traversing the graph, so either bfs or dfs should work.</p>
<p><code>dfs</code> works like a stack, take an example when processA is running, inside processB is invoked, then processA hang, and go into processB; as processB is running, inside processC is invoked, then processB hanged, and go into processC. e.t.c. so the finished order is from innerest to outest.  <code>dfs</code> will always traverse all possibilities, then return to the outest layer. </p>
<p>in clone graph,  e.g. </p>
<pre><code>#0, 1,  2
#1, 2
#2, 2 
</code></pre><p><code>dfs</code> process as: </p>
<p>first deal with first line, element <code>0</code>, which trick element <code>1</code>, so process goes to second line, and trick element <code>2</code>, so go to third line(done), then return to second line(done), then return to first line, trick second neighbor <code>2</code> go on… </p>
<p><code>bfs</code> works different, during processA running, processB is invoked, will still run processA to done, but also push processB to job queue, which will run next time. so using <code>bfs</code>, usually has a <code>queue</code> variable to mark unfinished jobs.</p>
 <figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">UndirectedGraphNode</span> &#123;</span></div><div class="line">  <span class="keyword">int</span> label ;</div><div class="line">  <span class="built_in">vector</span>&lt;UndirectedGraphNode *&gt; neighbors ;</div><div class="line">  UndirectedGraphNode(<span class="keyword">int</span> x) : label(x) &#123;&#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">//graph traversing by bfs</span></div><div class="line"><span class="function">UndirectedGraphNode *<span class="title">cloneGraph</span><span class="params">(UndirectedGraphNode *node)</span></span>&#123;</div><div class="line">      <span class="keyword">if</span>(!node) <span class="keyword">return</span> <span class="literal">nullptr</span> ;</div><div class="line">      UndirectedGraphNode *c_node = <span class="keyword">new</span> UndirectedGraphNode(node-&gt;label);</div><div class="line">      <span class="built_in">queue</span>&lt;UndirectionGraphNode*&gt; qlist ;</div><div class="line">      unorder_map&lt;<span class="keyword">int</span>, UndirectionGraphNode*&gt; <span class="built_in">map</span>;</div><div class="line">      <span class="built_in">map</span>[c_node-&gt;label] = c_node ;</div><div class="line">      qlist.push(c_node);</div><div class="line">      UndirectedGraphNode cur, neighbor = <span class="literal">nullptr</span>;</div><div class="line">      </div><div class="line">      <span class="keyword">while</span>(!qlist.empty())&#123;</div><div class="line">        cur = qlist.front(); qlist.pop();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;cur-&gt;neighbors.size(); i++)&#123;</div><div class="line">         neighbor =  cur-&gt;neighbors[i];</div><div class="line">         <span class="keyword">if</span>(<span class="built_in">map</span>.find(neighbor-&gt;label))</div><div class="line">         &#123;</div><div class="line">           c_node-&gt;neighbors.push_back(neighbor);</div><div class="line">         &#125;<span class="keyword">else</span>&#123;</div><div class="line">           UndirectedGraphNode *tmp = <span class="keyword">new</span> UndirectedGraphNode(neighbor-&gt;label);</div><div class="line">           c_node-&gt;neighbors.push_back(tmp); </div><div class="line">           <span class="built_in">map</span>[tmp-&gt;label] = tmp ;</div><div class="line">           qlist.push(tmp);  <span class="comment">//bfs idea: find new node, push it to queue and deal</span></div><div class="line">           <span class="comment">// with it in next while loop</span></div><div class="line">         &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">      <span class="keyword">return</span> <span class="built_in">map</span>[c_node-&gt;label];</div><div class="line">  &#125;</div><div class="line"></div><div class="line"> <span class="comment">//dfs</span></div><div class="line"> <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(UndirectedGraphNode\* node, unorder_map&lt;<span class="keyword">int</span>, UndirectionGraphNode*&gt;&amp; <span class="built_in">map</span>)</span></span></div><div class="line"> &#123;</div><div class="line">    UndirectedGraphNode * c_node = <span class="literal">nullptr</span>;</div><div class="line">    <span class="keyword">if</span>(!<span class="built_in">map</span>.find(node-&gt;label))&#123;</div><div class="line">      c_node = <span class="keyword">new</span> UndirectedGraphNode(node-&gt;label);</div><div class="line">      <span class="built_in">map</span>[c_node-&gt;label] = c_node;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">      c_node = <span class="built_in">map</span>.find(node-&gt;label);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    UndirectedGraphNode* nei;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;node-&gt;neighbors.size(); i++)&#123;</div><div class="line">        nei = node-&gt;neighbors[i];</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">map</span>.find(nei-&gt;label))&#123;</div><div class="line">          c_node-&gt;neighbors.push_back(nei);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">          dfs(nei, <span class="built_in">map</span>);</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line"> <span class="function">UndirectedGraphNode *<span class="title">cloneGraph</span><span class="params">(UndirectedGraphNode *node)</span></span>&#123;</div><div class="line">   unorder_map&lt;<span class="keyword">int</span>, UndirectionGraphNode*&gt; <span class="built_in">map</span>;</div><div class="line">   dfs(node, <span class="built_in">map</span>);</div><div class="line">   <span class="keyword">return</span> <span class="built_in">map</span>[node-&gt;label]; </div><div class="line"> &#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/13/palindrome-partition/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/13/palindrome-partition/" itemprop="url">palinedrome partition with dfs & bfs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-13T16:19:07-05:00">
                2018-12-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/13/palindrome-partition/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/13/palindrome-partition/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="parlindrome-partition"><a href="#parlindrome-partition" class="headerlink" title="parlindrome partition"></a>parlindrome partition</h2><p><a href="https://leetcode.com/problems/palindrome-partitioning/" target="_blank" rel="external">leetCode 131</a>  <a href="https://www.jiuzhang.com/solution/palindrome-partitioning/#tag-highlight-lang-cpp" target="_blank" rel="external">a sample code</a> :</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> depth, <span class="built_in">string</span> s)</span></span>&#123;</div><div class="line">  <span class="keyword">if</span>(depth == s.size())&#123;</div><div class="line">    v.push_back(v1);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span>(depth&lt;s.size())&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=depth; i&lt;s.size(); i++)&#123;</div><div class="line">      <span class="comment">//left substring </span></div><div class="line">      <span class="keyword">if</span>(palindrome(s.substr(depth, i-depth+<span class="number">1</span>)))&#123;</div><div class="line">        v1.push_back(s.substr(depth, i-depth+<span class="number">1</span>));</div><div class="line">        dfs(i+<span class="number">1</span>, s);</div><div class="line">        v1.pop_back();  </div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>1)  each col in the table is one way to partition the string.e.g.  <code>aab</code>.  col_1 , left string <code>a</code> is palindrome, v1=[<code>a</code>]; feed right string <code>ab</code> to dfs(i+1, s)(depth=0, i=depth)</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>a</td>
<td>a</td>
</tr>
<tr>
<td></td>
<td>a</td>
<td>a</td>
</tr>
<tr>
<td>a</td>
<td></td>
<td>b</td>
</tr>
<tr>
<td>b</td>
<td>b</td>
</tr>
</tbody>
</table>
<p>1.1) col1_1, left string <code>a</code> is palindrome, v1=[<code>a</code>, <code>a</code>];<br>feed right string <code>b</code> into dfs(i+1, s) (depth=1, i=depth)</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>a</td>
</tr>
<tr>
<td></td>
<td>b</td>
</tr>
<tr>
<td>b</td>
</tr>
</tbody>
</table>
<p>1.1.1) <code>b</code> will push into v1, make v1=[<code>a</code>, <code>a</code>, <code>b</code>], feed into dfs(i+1, s) (depth=2, i=depth), which will return since depth==s.size().</p>
<p>the  above dfs()(depth=2, i=depth) returned, the immediate next step is <code>b</code> pop out from v1; also now is the finished of dfs()(depth=1, i=depth), so the immediate next step is the second <code>a</code> pop out.</p>
<p>1.1.2) so now go to (depth=1, i=depth+1),  push <code>ab</code> into v1, making v1=[<code>a</code>, <code>ab</code>] . but <code>ab</code> is not palindrome, return immediately, then pop out <code>ab</code>.</p>
<p>1.2) at this time, the very outside dfs()(depth=0, i=depth) is all done, so pop the first <code>a</code> in v1; and go to (depth=0, i=depth+1); then (depth=0, i=depth+2)… </p>
<h2 id="recursive-of-DFS"><a href="#recursive-of-DFS" class="headerlink" title="recursive of DFS"></a>recursive of DFS</h2><p>another example of recursive dfs.  <a href="https://leetcode.com/problems/sum-root-to-leaf-numbers/" target="_blank" rel="external">leetcode 129 sum root of leaf numbers</a> </p>
<p>dfs is used to find all the solutions, in a way to go through each branch in the same level first, then go into the next level. </p>
<p>to traverse all solutions(branches), also need to mark traversing/traversed branches. so usually need:</p>
<pre><code>to push -&gt;  current traversing element
to pop -&gt; traversed element 
</code></pre><p>and a container to hold all solutions.</p>
<p>if design recursive with returned value, consider the critical condition. e.g. what suppose to return when the last element, and usually design the returned value as local variable in each recursive function, rather than a global variable. </p>
<p>one more thing is about the traversing direction, from left to right end, then when coding make sure the direction is consistent at all times.</p>
<h2 id="BFS-to-find-mini-cuts"><a href="#BFS-to-find-mini-cuts" class="headerlink" title="BFS to find mini cuts"></a>BFS to find mini cuts</h2><p><code>DFS</code> is used to solve the kind of problem:  traversal all possible solutions; <a href="https://leetcode.com/problems/palindrome-partitioning-ii/" target="_blank" rel="external">leetcode 132</a> askes for the mini cuts, once find out the mini-cuts solution, done, no traverse all possibilities.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// define done, cut as class member variable </span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">bool</span>&amp; done)</span></span>&#123;</div><div class="line">  <span class="keyword">int</span> len = s.length();</div><div class="line">  <span class="built_in">string</span> left, right;</div><div class="line">  <span class="keyword">int</span> i =<span class="number">0</span>;</div><div class="line">  <span class="keyword">while</span>(!done &amp;&amp; i&lt;len)&#123;</div><div class="line">    left = s.substr(<span class="number">0</span>, len-i); <span class="comment">//starting from the longest left string</span></div><div class="line">    right = s.substr(len-i, i);</div><div class="line">    <span class="keyword">if</span>(palindrome(left))&#123;</div><div class="line">        cut++;</div><div class="line">        <span class="keyword">if</span>(palindrome(right))</div><div class="line">        &#123;</div><div class="line">          done = <span class="literal">true</span> ;</div><div class="line">        &#125;<span class="keyword">else</span> &#123;</div><div class="line">            bfs(right, done);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    i++;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/13/surrounded-regions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/13/surrounded-regions/" itemprop="url">surrounded regions</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-13T12:25:04-05:00">
                2018-12-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/13/surrounded-regions/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/13/surrounded-regions/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://leetcode.com/problems/surrounded-regions/" target="_blank" rel="external">leetCode130</a>, like go game. </p>
<p>how to design the solution, at first it is naive to traverse with two for loops, then there will be too many if statement to specify, and not clear to seperate these if statements. </p>
<p>three ideas behind <a href="https://www.jiuzhang.com/solution/surrounded-regions/#tag-highlight-lang-cpp" target="_blank" rel="external">a sample solution</a>.  </p>
<h2 id="using-addtional-status-variable"><a href="#using-addtional-status-variable" class="headerlink" title="using addtional status variable"></a>using addtional status variable</h2><p>in lower space the problem is difficult to analysis, then from a higher space, the problem is clear and easy. e.g. trakcing the <code>O</code> in the board, how to mark them ? keep <code>O</code> will not tell the marked ones and the original ones. so using <code>M</code> to mark these already traversed, it make the situation much more clear</p>
<h2 id="starting-from-the-critial-domain"><a href="#starting-from-the-critial-domain" class="headerlink" title="starting from the critial domain"></a>starting from the critial domain</h2><p>at first, no idea where is a good start point, but the trick point is at the boundary, only the cells at boundary with <code>O</code> will keep <code>O</code>; all the <code>O</code> not on the boundary either connect to the boundary <code>O</code>s or they will be <code>X</code>s.</p>
<h2 id="traversing-with-queue"><a href="#traversing-with-queue" class="headerlink" title="traversing with queue"></a>traversing with queue</h2><p>if not queue, to detect these <code>O</code> cells need two for loops, then deal with these <code>O</code> cells again need another two for loops. </p>
<p><code>for loop</code> is a global handling, while <code>queue list</code> is a local way, no need to take all cells in consideration, but only the cells in queue. </p>
<p>queue should be a good way to traverse whenever the operation is not deal with all the elements. </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//extending from the boundary 'O', any extened will keep same statue</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">process</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span></span>&#123;</div><div class="line">  <span class="keyword">int</span> height = board.size();</div><div class="line">  <span class="keyword">int</span> width = board[<span class="number">0</span>].size();</div><div class="line">  <span class="built_in">std</span>::pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; p;</div><div class="line">  <span class="built_in">queue</span>&lt;<span class="built_in">std</span>::pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; Q ;</div><div class="line">  Q.push(p(i,j));</div><div class="line">  board[i][j] = <span class="string">'m'</span>;</div><div class="line">  <span class="keyword">while</span>(!Q.empty())&#123;</div><div class="line">      p tmp = Q.front(); Q.pop();</div><div class="line">      i=tmp.first;</div><div class="line">      j=tmp.second;</div><div class="line">      <span class="keyword">if</span>(i!=<span class="number">0</span> &amp;&amp; board[i<span class="number">-1</span>][j] == <span class="string">'O'</span>)&#123;</div><div class="line">        board[i<span class="number">-1</span>][j] = <span class="string">'m'</span>;</div><div class="line">        Q.push(p[i<span class="number">-1</span>][j]);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">if</span>(i!= width<span class="number">-1</span> &amp;&amp; board[i+<span class="number">1</span>][j]==<span class="string">'O'</span>)</div><div class="line">      &#123;</div><div class="line">        board[i+<span class="number">1</span>][j] = <span class="string">'m'</span>;</div><div class="line">        Q.push(p[i+<span class="number">1</span>][j]);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">if</span>(j!=<span class="number">0</span> &amp;&amp; board[i][j<span class="number">-1</span>]==<span class="string">'0'</span>)</div><div class="line">      &#123;</div><div class="line">        board[i][j<span class="number">-1</span>]=<span class="string">'m'</span>;</div><div class="line">        Q.push(p[i][j<span class="number">-1</span>]);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">if</span>(j!=height<span class="number">-1</span> &amp;&amp; board[i][j+<span class="number">1</span>]==<span class="string">'O'</span>)</div><div class="line">      &#123;</div><div class="line">        board[i][j+<span class="number">1</span>] = <span class="string">'m'</span>;</div><div class="line">        Q.push(p[i][j+<span class="number">1</span>]);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">sol</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span></span>&#123;</div><div class="line">  <span class="keyword">int</span> height = board.size();</div><div class="line">  <span class="keyword">int</span> width = board[<span class="number">0</span>].size();</div><div class="line"><span class="comment">//tracking the boundary 'o' and mark them as 'm'</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;width; i++)&#123;</div><div class="line">    <span class="keyword">if</span>(board[i][<span class="number">0</span>] == <span class="string">'O'</span>)&#123; <span class="comment">//bottom boundary</span></div><div class="line">      board[i][<span class="number">0</span>] = <span class="string">'m'</span> ;</div><div class="line">      process(i, <span class="number">0</span>, board);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(board[i][height<span class="number">-1</span>] == <span class="string">'O'</span>)</div><div class="line">    &#123;</div><div class="line">        board[i][height<span class="number">-1</span>] = <span class="string">'m'</span> ;</div><div class="line">        process(i, height<span class="number">-1</span>, board);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;height; j++)&#123;</div><div class="line">    <span class="keyword">if</span>(board[<span class="number">0</span>][j] == <span class="string">'O'</span>)&#123;</div><div class="line">      board[<span class="number">0</span>][j] = <span class="string">'m'</span>;</div><div class="line">      process(<span class="number">0</span>, j, board);</div><div class="line">    &#125;</div><div class="line">     <span class="keyword">if</span>(board[width<span class="number">-1</span>][j] == <span class="string">'O'</span>)</div><div class="line">    &#123;</div><div class="line">        board[width<span class="number">-1</span>][j] = <span class="string">'m'</span> ;</div><div class="line">        process(width<span class="number">-1</span>, j, board);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;width; i++)</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;height; j++)&#123;</div><div class="line">      <span class="keyword">if</span>(board[i][j] == <span class="string">'O'</span>)</div><div class="line">        board[i][j] = <span class="string">'X'</span>;</div><div class="line">      <span class="keyword">if</span>(board[i][j] == <span class="string">'m'</span>)</div><div class="line">        board[i][j] = <span class="string">'O'</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/12/hash-table/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/12/hash-table/" itemprop="url">hash table</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-12T15:47:28-05:00">
                2018-12-12
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/12/hash-table/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/12/hash-table/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>the ideas behind <a href="https://algs4.cs.princeton.edu/34hash/" target="_blank" rel="external">hashtable</a> is: 1) input the key to hash function, output the bucket index; 2) adding the element <key, value=""> to the bucket[idx]. usually design the bucket[idx] as a linked list, allowing mulitply keys in the same bucket, which is called “collesion chaining”. 3) hashtable has three basic operators: insert/put, search/get, and remove. </key,></p>
<p>the memory usage of hashtable is continuous bucket array, then each bucket is a linked list. when first thought about the “continue array”, really is a vector, then why need hash function. That’s the point, hashtable allows the benefits of both vector and linked list. </p>
<p>a few interesting topics about hash. </p>
<p>1)<a href="http://www.partow.net/programming/hashfunctions/#HashAndPrimes" target="_blank" rel="external">why prime numbers?</a>  the fundamental mathematical operations with prime numbers generally result in numbers who’s bit biases are close to random. in other word, when multiply or add a set of randome numbers by a prime number, the resulting numbers when as a group, statistically analyzed at their bit levels should show no bias towards being one state or another. in comupter science, pseudo random number generator has bit bias. </p>
<p>2) <a href="http://www.partow.net/programming/hashfunctions/#AvailableHashFunctions" target="_blank" rel="external">string hash/scattering</a>,<br>basically the hash functions should deal with each chracter in the input string, so no information about this string will be missed, and the information entropy after hashing operator suppose increase.  </p>
<p>3) <a href="http://www.voidcn.com/article/p-cywhtscu-bdy.html" target="_blank" rel="external">Blizzard hash function</a>. not all hash function deal collision conflict with linked list, here is the example.</p>
<p>4) <a href="https://tessil.github.io/2016/08/29/benchmark-hopscotch-map.html" target="_blank" rel="external">hash map benchmark performance review</a></p>
<p>one feeling at this moment, so many brilliant and deep-focusing guys there, stay foolish and stay humble. </p>
<h2 id="std-unordered-map"><a href="#std-unordered-map" class="headerlink" title="std::unordered_map"></a>std::unordered_map</h2><p>there is <a href="https://www.geeksforgeeks.org/map-vs-unordered_map-c/" target="_blank" rel="external">map vs unordered_map</a> :</p>
<pre><code>map      |     unordered_map
</code></pre><hr>
<pre><code>Ordering        | increasing  order   | no ordering
                | (by default)        |

Implementation  | Self balancing BST  | Hash Table

search time     | log(n)    | O(1) -&gt;Average 
                |           | O(n) -&gt; Worst 

Insertion time  | log(n) + Rebalance  | Same as search

Deletion time   | log(n) + Rebalance  | Same as search
</code></pre><p>basically <code>map</code> works for traversal, pre/post element access; <code>unordered_map</code> is quick in once search,insertion, deletion. here is <a href="https://gist.github.com/DragonOsman/fe8f75466a69b2835d432bfbba0cd739" target="_blank" rel="external">a dictionary demo</a></p>
<h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p><a href="https://leetcode.com/problems/word-ladder/" target="_blank" rel="external">word ladder</a>,  hash table is used to find a special word from dictionary. the benefit of unorder_set is O(1) find. so design a unorder_set to store the dict.</p>
<p>in the following example, each character position in the word requires 25 times search of the dict. also every marked word from the dict, should not be searched second time.</p>
<p>another variable is used to track the list of one_character_diff from current word, it’s like BFS. so design as a queue, which only need take care the neighbor two layers. </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">sol</span><span class="params">(<span class="built_in">string</span> start, <span class="built_in">string</span> end, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; wordList)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> length = <span class="number">2</span> ; </div><div class="line">	<span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; dict ;</div><div class="line">	foreach word in wordList:</div><div class="line">		dict.insert(word)</div><div class="line">	</div><div class="line">	<span class="built_in">queue</span>&lt;<span class="built_in">string</span>&gt; one_diff_list; </div><div class="line">	<span class="comment">// initial by pushing start </span></div><div class="line">	one_diff_list.push(start);</div><div class="line">	<span class="keyword">while</span>(!one_diff_list.empty())&#123;</div><div class="line">		<span class="keyword">int</span> size = one_diff_list.size();	</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)&#123;</div><div class="line">			<span class="built_in">string</span> word=one_diff_list.front();</div><div class="line">			one_diff_list.pop();</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;start.length(); i++)&#123;</div><div class="line">				<span class="keyword">char</span> oldChar = word[i];</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'a'</span>; c&lt;=<span class="string">'z'</span>; c++)&#123;</div><div class="line">					<span class="keyword">if</span>(c == oldChar) <span class="keyword">continue</span> ;</div><div class="line">					word[i] = c ; </div><div class="line">					<span class="keyword">if</span>(dict.find(word) != dict.end())&#123;</div><div class="line">						<span class="keyword">if</span>(word == end) </div><div class="line">						&#123; <span class="comment">//find the match</span></div><div class="line">						  <span class="keyword">return</span> length;</div><div class="line">						&#125;</div><div class="line">						one_diff_list.push(word);</div><div class="line">						dict.erase(word);</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">				word[i] = oldChar;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		length++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="David Z.J. Lee" />
          <p class="site-author-name" itemprop="name">David Z.J. Lee</p>
           
              <p class="site-description motion-element" itemprop="description">what I don't know</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">150</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">33</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ZJLi2013" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/zhengjia13/" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  LinkedIn
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">David Z.J. Lee</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://zjlee.disqus.com/count.js" async></script>
    

    

  




	





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
