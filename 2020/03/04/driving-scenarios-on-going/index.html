<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Euro NCAP driving scenariosAdaptive Cruise Control(ACC)ACC is tested in an extended version of AEB. these systems are designed to automatically adapt the speed when approaching a slower moving vehicle">
<meta property="og:type" content="article">
<meta property="og:title" content="driving scenarios on-going">
<meta property="og:url" content="http://yoursite.com/2020/03/04/driving-scenarios-on-going/index.html">
<meta property="og:site_name" content="Serious Autonomous Vehicles">
<meta property="og:description" content="Euro NCAP driving scenariosAdaptive Cruise Control(ACC)ACC is tested in an extended version of AEB. these systems are designed to automatically adapt the speed when approaching a slower moving vehicle">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-03-04T09:18:56.485Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="driving scenarios on-going">
<meta name="twitter:description" content="Euro NCAP driving scenariosAdaptive Cruise Control(ACC)ACC is tested in an extended version of AEB. these systems are designed to automatically adapt the speed when approaching a slower moving vehicle">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/03/04/driving-scenarios-on-going/"/>





  <title>driving scenarios on-going | Serious Autonomous Vehicles</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Serious Autonomous Vehicles</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/04/driving-scenarios-on-going/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="David Z.J. Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serious Autonomous Vehicles">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">driving scenarios on-going</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-04T04:18:26-05:00">
                2020-03-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/03/04/driving-scenarios-on-going/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2020/03/04/driving-scenarios-on-going/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Euro-NCAP-driving-scenarios"><a href="#Euro-NCAP-driving-scenarios" class="headerlink" title="Euro NCAP driving scenarios"></a>Euro NCAP driving scenarios</h2><h3 id="Adaptive-Cruise-Control-ACC"><a href="#Adaptive-Cruise-Control-ACC" class="headerlink" title="Adaptive Cruise Control(ACC)"></a>Adaptive Cruise Control(ACC)</h3><p>ACC is tested in an extended version of AEB. these systems are designed to automatically adapt the speed when approaching a slower moving vehicle or noe that is braking. <strong>notification</strong>, not all systems perform well with stationary obstacles.</p>
<ul>
<li><p>a slow moving vehicle test</p>
</li>
<li><p>a stationary obstacle(e.g. vehicle) test</p>
</li>
</ul>
<h3 id="autonomous-emergency-braking-AEB"><a href="#autonomous-emergency-braking-AEB" class="headerlink" title="autonomous emergency braking(AEB)"></a>autonomous emergency braking(AEB)</h3><h4 id="AEB-pedestrain"><a href="#AEB-pedestrain" class="headerlink" title="AEB pedestrain"></a><a href="https://www.euroncap.com/en/vehicle-safety/the-ratings-explained/vulnerable-road-user-vru-protection/aeb-pedestrian/" target="_blank" rel="external">AEB pedestrain</a></h4><ul>
<li><p>an adult pedestrain running from the driver’s side of the vehicle </p>
</li>
<li><p>an adult walk from the passenger’s side</p>
</li>
<li><p>a child runs from between parked cars on the passenger’s side of the car</p>
</li>
<li><p>pedestrain walking in the same direction as the vehicle algnedwith the centre of vehicle </p>
</li>
<li><p>pedestrain walking in the same direction as the vehicle offset to one side</p>
</li>
</ul>
<h4 id="AEB-cyclist"><a href="#AEB-cyclist" class="headerlink" title="AEB cyclist"></a><a href="https://www.euroncap.com/en/vehicle-safety/the-ratings-explained/vulnerable-road-user-vru-protection/aeb-cyclist/" target="_blank" rel="external">AEB cyclist</a></h4><ul>
<li><p>cyclist is crossing the vehicle’s path </p>
</li>
<li><p>cyclist is travelling in the same direction </p>
</li>
</ul>
<p>Euro NCAP gives greatest reward if a collision is completely avoided; in some case, if AEB is unable to stop the vehicle completely, still give some points. </p>
<h3 id="lane-keeping-assist-LKA"><a href="#lane-keeping-assist-LKA" class="headerlink" title="lane keeping assist(LKA)"></a>lane keeping assist(LKA)</h3><ul>
<li><p>lane centering, a good ADS should continue to support the driver during the manoeuvre and will not resist the driver or deactivate.</p>
</li>
<li><p>cut-in test, a npc from adjacent lane merges into the current lane</p>
</li>
<li><p>cut-off test, a npc leaves the current lane abruptly to avoid a stopped vehicle ahead</p>
</li>
<li><p>swerve around a small obstacle test</p>
</li>
<li><p>speed assistance test, to use map data and/or data from sensors to identify the local speed limit </p>
</li>
</ul>
<h2 id="NHTSA-driving-scenarios"><a href="#NHTSA-driving-scenarios" class="headerlink" title="NHTSA driving scenarios"></a>NHTSA driving scenarios</h2><p>a previous blog <a href="">design scenarios in ADS simulation</a> is based on NHTSA. </p>
<h3 id="forward-collision-prevention"><a href="#forward-collision-prevention" class="headerlink" title="forward collision prevention"></a>forward collision prevention</h3><ul>
<li>Forward collision warning</li>
<li>AEB</li>
<li>pedestrain AEB</li>
<li>Adaptive lighting</li>
</ul>
<h3 id="backing-up-amp-parking"><a href="#backing-up-amp-parking" class="headerlink" title="backing up &amp; parking"></a>backing up &amp; parking</h3><ul>
<li>rear automatic braking </li>
<li>backup camera </li>
<li>rear cross traffic alert</li>
</ul>
<h3 id="lane-amp-side-assist"><a href="#lane-amp-side-assist" class="headerlink" title="lane &amp; side assist"></a>lane &amp; side assist</h3><ul>
<li>lane departure warning</li>
<li>lane keeping assist</li>
<li>blind spot detection</li>
<li>lane centering assist</li>
</ul>
<h3 id="maintaing-safe-distance"><a href="#maintaing-safe-distance" class="headerlink" title="maintaing safe distance"></a>maintaing safe distance</h3><ul>
<li>traffic jam assist</li>
<li>highway pilot</li>
<li>ACC </li>
</ul>
<h2 id="Matlab-Driving-Scenario-samples"><a href="#Matlab-Driving-Scenario-samples" class="headerlink" title="Matlab Driving Scenario samples"></a>Matlab Driving Scenario samples</h2><h3 id="AEB-for-vulnerable-road-users"><a href="#AEB-for-vulnerable-road-users" class="headerlink" title="AEB (for vulnerable road users)"></a>AEB (for vulnerable road users)</h3><ul>
<li><p><code>AEB_Bicyclist_Longitudinal_25width</code>, at collision time, the bicycle is 25% of the way across the width of the ego vehicle.</p>
</li>
<li><p><code>AEB_CCRb_2_initialGap_12m</code>, a car-to-car rear braking(CCRb) scenario where the ego rear hit a braking agent. the deceleration is 2 m/s^2 with initial gap 12m</p>
</li>
<li><p><code>AEB_CCRm_50overlap</code>, a car-to-car rear moving(CCRm) scenario, where the ego rear hits a moving vehicle. at collisio ntime, the ego overlaps with 50% of the width of the moving vehicle</p>
</li>
</ul>
<ul>
<li><code>AEB_CCRs_-75overlap</code>, a car-to-car stationary(CCRs) sceanrio, where the ego rear hits a stationary vehicle. at collision time, the ego overlaps with 75% of the width of the stationary vehicle. when the ego is to the left of the other vehicle, the percent overlap is negative</li>
</ul>
<ul>
<li><p><code>AEB_Pedestrain_Farside_50width</code>, the ego collides with a pedestrain who is traveling from the left side(far side, assuming vehicle drive on right side of the road). at collision time, the pedestrain is 50% of the way across the width of the ego</p>
</li>
<li><p><code>AEB_PedestrainChild_Nearside_50width</code>, the ego collides with a pedestrain who is traveling from the right side(near side), at collision time, the pedestrain is 50% of the way across the width of the ego</p>
</li>
</ul>
<h3 id="Emergency-Lane-Keeping-ELK"><a href="#Emergency-Lane-Keeping-ELK" class="headerlink" title="Emergency Lane Keeping(ELK)"></a>Emergency Lane Keeping(ELK)</h3><ul>
<li><p><code>ELK_FasterOvertakingVeh_Intent_Vlat_0.5</code>, ego intentionally changes lanes but collides with a faster overtaking vehicle, the ego travels at a lateral velocity of 0.5m/s</p>
</li>
<li><p><code>ELK_OncomingVeh_Vlat_0.3</code>, ego unintentionally changes lanes and collides with an oncoming vehicle, with ego’s lateral velocity of 0.3m/s</p>
</li>
<li><p><code>ELK_OvertakingVeh_Unintent_Vlat_0.3</code>, ego unintentionally changes lanes, overtake a vehicle in the other lane and collides. the ego travles at a lateral velocity at 0.3m/s</p>
</li>
<li><p><code>ELK_RoadEdge_NoBndry_Vlat_0.2</code>,  ego unintentionally changes lanes and ends up to hte road edge, with lateral velocity at 0.2m/s</p>
</li>
</ul>
<h3 id="LKA"><a href="#LKA" class="headerlink" title="LKA"></a>LKA</h3><ul>
<li><p><code>LKA_DashedLine_Solid_Left_Vlat_0.5</code></p>
</li>
<li><p><code>LKA_DashedLine_Unmarked_Right_Vlat_0.5</code></p>
</li>
<li><p><code>LKA_RoadEdge_NoBndry_Vlat_0.5</code></p>
</li>
<li><p><code>LKA_RoadEdge_NoMarkings_Vlat_0.5</code></p>
</li>
<li><p><code>LKA_SolidLine_Dashed_Left_Vlat_0.5</code></p>
</li>
<li><p><code>LKA_SolidLine_Unmarked_Right_Vlat_0.5</code></p>
</li>
</ul>
<h2 id="open-source-libs"><a href="#open-source-libs" class="headerlink" title="open source libs"></a>open source libs</h2><ul>
<li><p><a href="https://github.com/Microsoft/AutonomousDrivingCookbook" target="_blank" rel="external">Microsoft: autonomous driving cookbook</a></p>
</li>
<li><p><a href="https://github.com/ZhaobinMo/TrafficNet" target="_blank" rel="external">TrafficNet: an open scenario lib</a></p>
</li>
<li><p><a href="https://github.com/Toyota-ITC-SSD/Vehicle-Simulation-Toolkit" target="_blank" rel="external">Toyota: vehicle simulation unity toolkit</a></p>
</li>
<li><p><a href="https://github.com/mathworks" target="_blank" rel="external">mathworks: github</a></p>
</li>
<li><p><a href="https://drivingstereo-dataset.github.io" target="_blank" rel="external">sensetime: driving stero dataset</a></p>
</li>
<li><p><a href="https://opensimulationinterface.github.io/open-simulation-interface/" target="_blank" rel="external">google: open simulator interface</a></p>
</li>
<li><p><a href="https://ml4ad.github.io" target="_blank" rel="external">cmu: ml4ad</a></p>
</li>
</ul>
<h2 id="scenarios-in-L2-vs-L3"><a href="#scenarios-in-L2-vs-L3" class="headerlink" title="scenarios in L2 vs L3+"></a>scenarios in L2 vs L3+</h2><p>scenarios in l2 is more like point in the whole driving manuevor, at a certain scenario/point, how the ADAS system response. while L3+ is a continously scenario, along each point during driving is part of the scenario, and inside which all kinds of l2 case scenario can happen. it does make sense to integrate l2 scenario planning response to l3+, which makes l3+ system more strict. </p>
<h4 id="refer"><a href="#refer" class="headerlink" title="refer"></a>refer</h4><p><a href="https://www.euroncap.com/en/vehicle-safety/safety-campaigns/2018-automated-driving-tests/" target="_blank" rel="external">2018 Automated driving test</a></p>
<p><a href="https://www.mathworks.com/help/driving/ug/euro-ncap-driving-scenarios-in-driving-scenario-designer.html" target="_blank" rel="external">mathworks: Euro NCAP driving scenarios in driving scenario designer</a></p>
<p><a href="https://cdn.euroncap.com/media/30700/euroncap-roadmap-2025-v4.pdf" target="_blank" rel="external">Euro NCAP roadmap 2025</a></p>
<p><a href="https://www.nhtsa.gov/vehicle-safety-research" target="_blank" rel="external">nhtsa vehicle safety legacy doc</a></p>
<p><a href="https://www.nhtsa.gov/equipment/driver-assistance-technologies#forward-collision-prevention-30631" target="_blank" rel="external">NHTSA driver assitance tech</a></p>
<p><a href="https://silvamfpedro.github.io/thesis-blog/index.html" target="_blank" rel="external">Study and adaptation of the autonomous driving simulator CARLA for ATLASCAR2</a></p>
<p><a href="https://www.mobileye.com/responsibility-sensitive-safety/rss_on_nhtsa.pdf" target="_blank" rel="external">implementing RSS model on NHTSA pre-crash scenarios</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/03/03/boto3-streamingBody-to-BytesIO/" rel="next" title="boto3 streamingBody to BytesIO">
                <i class="fa fa-chevron-left"></i> boto3 streamingBody to BytesIO
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/03/05/design-a-nodejs-web-server-from-db-to-s3/" rel="prev" title="design a nodejs web server from db to s3">
                design a nodejs web server from db to s3 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="David Z.J. Lee" />
          <p class="site-author-name" itemprop="name">David Z.J. Lee</p>
           
              <p class="site-description motion-element" itemprop="description">what I don't know</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">163</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ZJLi2013" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/zhengjia13/" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  LinkedIn
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Euro-NCAP-driving-scenarios"><span class="nav-number">1.</span> <span class="nav-text">Euro NCAP driving scenarios</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Adaptive-Cruise-Control-ACC"><span class="nav-number">1.1.</span> <span class="nav-text">Adaptive Cruise Control(ACC)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#autonomous-emergency-braking-AEB"><span class="nav-number">1.2.</span> <span class="nav-text">autonomous emergency braking(AEB)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#AEB-pedestrain"><span class="nav-number">1.2.1.</span> <span class="nav-text">AEB pedestrain</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AEB-cyclist"><span class="nav-number">1.2.2.</span> <span class="nav-text">AEB cyclist</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lane-keeping-assist-LKA"><span class="nav-number">1.3.</span> <span class="nav-text">lane keeping assist(LKA)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NHTSA-driving-scenarios"><span class="nav-number">2.</span> <span class="nav-text">NHTSA driving scenarios</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#forward-collision-prevention"><span class="nav-number">2.1.</span> <span class="nav-text">forward collision prevention</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#backing-up-amp-parking"><span class="nav-number">2.2.</span> <span class="nav-text">backing up & parking</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lane-amp-side-assist"><span class="nav-number">2.3.</span> <span class="nav-text">lane & side assist</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#maintaing-safe-distance"><span class="nav-number">2.4.</span> <span class="nav-text">maintaing safe distance</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Matlab-Driving-Scenario-samples"><span class="nav-number">3.</span> <span class="nav-text">Matlab Driving Scenario samples</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AEB-for-vulnerable-road-users"><span class="nav-number">3.1.</span> <span class="nav-text">AEB (for vulnerable road users)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Emergency-Lane-Keeping-ELK"><span class="nav-number">3.2.</span> <span class="nav-text">Emergency Lane Keeping(ELK)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LKA"><span class="nav-number">3.3.</span> <span class="nav-text">LKA</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#open-source-libs"><span class="nav-number">4.</span> <span class="nav-text">open source libs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scenarios-in-L2-vs-L3"><span class="nav-number">5.</span> <span class="nav-text">scenarios in L2 vs L3+</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#refer"><span class="nav-number">5.0.1.</span> <span class="nav-text">refer</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">David Z.J. Lee</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://zjlee.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://yoursite.com/2020/03/04/driving-scenarios-on-going/';
          this.page.identifier = '2020/03/04/driving-scenarios-on-going/';
          this.page.title = 'driving scenarios on-going';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://zjlee.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
